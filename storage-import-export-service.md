---
title: 使用 Azure 导入/导出将数据传入/传出 Azure 存储 | Microsoft Docs
description: 了解如何在 Azure 门户中创建导入和导出作业，以便将数据传入/传出到 Azure 存储。
author: WenJason
services: storage
ms.service: storage
ms.topic: conceptual
origin.date: 05/06/2020
ms.date: 11/16/2020
ms.author: v-jay
ms.subservice: common
ms.openlocfilehash: bdec2f5ce983f9a91ba535b970d7c2d6907b8da6
ms.sourcegitcommit: 09d61d5f815b649efd91f37c6d5d362a942bd88e
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/15/2021
ms.locfileid: "107521056"
---
# <a name="use-the-azure-importexport-service-to-transfer-data-to-azure-storage"></a><span data-ttu-id="16f4e-103">使用 Azure 导入/导出服务将数据传输到 Azure 存储</span><span class="sxs-lookup"><span data-stu-id="16f4e-103">Use the Azure Import/Export service to transfer data to Azure Storage</span></span>
<span data-ttu-id="16f4e-104">本文分步介绍如何使用 Azure 导入/导出服务将磁盘驱动器寄送到 Azure 数据中心，从而安全地将大量数据传输到 Azure Blob 存储和 Azure 文件。</span><span class="sxs-lookup"><span data-stu-id="16f4e-104">In this article, we provide step-by-step instructions on using Azure Import/Export service to securely transfer large amounts of data to Azure Blob storage and Azure Files by shipping disk drives to an Azure data center.</span></span> <span data-ttu-id="16f4e-105">此外，还可以使用此服务将数据从 Azure 存储传输到硬盘驱动器，然后再寄送到本地站点。</span><span class="sxs-lookup"><span data-stu-id="16f4e-105">This service can also be used to transfer data from Azure storage to hard disk drives and ship to your on-premise sites.</span></span> <span data-ttu-id="16f4e-106">可将单个内部 SATA 磁盘驱动器中的数据导入 Azure Blob 存储或 Azure 文件。</span><span class="sxs-lookup"><span data-stu-id="16f4e-106">Data from a single internal SATA disk drive can be imported either to Azure Blob storage or Azure Files.</span></span> 

> [!IMPORTANT] 
> <span data-ttu-id="16f4e-107">此服务仅接受内部 SATA HDD 或 SSD。</span><span class="sxs-lookup"><span data-stu-id="16f4e-107">This service only accepts internal SATA HDDs or SSDs only.</span></span> <span data-ttu-id="16f4e-108">不支持任何其他设备。</span><span class="sxs-lookup"><span data-stu-id="16f4e-108">No other device is supported.</span></span> <span data-ttu-id="16f4e-109">请勿发送外部 HDD、NAS 设备等，因为可能会将其返回（若可能）或丢弃。</span><span class="sxs-lookup"><span data-stu-id="16f4e-109">Do not send external HDDs, NAS devices, etc., as they will be returned if possible, or otherwise discarded.</span></span>
>
>

<span data-ttu-id="16f4e-110">如果将磁盘上的数据导入 Azure 存储，请执行以下步骤。</span><span class="sxs-lookup"><span data-stu-id="16f4e-110">Follow the below steps if the data on the disk is to be imported into Azure Storage.</span></span>
### <a name="step-1-prepare-the-drives-using-waimportexport-tool-and-generate-journal-files"></a><span data-ttu-id="16f4e-111">步骤 1：使用 WAImportExport 工具准备驱动器，并生成日志文件。</span><span class="sxs-lookup"><span data-stu-id="16f4e-111">Step 1: Prepare the drive/s using WAImportExport tool and generate journal file/s.</span></span>

1.  <span data-ttu-id="16f4e-112">标识要导入 Azure 存储的数据。</span><span class="sxs-lookup"><span data-stu-id="16f4e-112">Identify the data to be imported into Azure Storage.</span></span> <span data-ttu-id="16f4e-113">可以导入本地服务器或网络共享中的目录和独立文件。</span><span class="sxs-lookup"><span data-stu-id="16f4e-113">You can import directories and standalone files on a local server or a network share.</span></span>
2.  <span data-ttu-id="16f4e-114">根据数据的总大小，采购所需数目的 2.5 英寸 SSD 或者 2.5/3.5 英寸 SATA II 或 III 硬盘驱动器。</span><span class="sxs-lookup"><span data-stu-id="16f4e-114">Depending on total size of the data, procure the required number of 2.5 inch SSD or 2.5" or 3.5" SATA II or III hard disk drives.</span></span>
3.  <span data-ttu-id="16f4e-115">直接使用 SATA 或通过外部 USB 适配器将硬盘驱动器附加到 Windows 计算机。</span><span class="sxs-lookup"><span data-stu-id="16f4e-115">Attach the hard drives directly using SATA or with external USB adaptors to a windows machine.</span></span>
1.  <span data-ttu-id="16f4e-116">在每个硬盘驱动器上创建一个 NTFS 卷，并向该卷分配一个驱动器号。</span><span class="sxs-lookup"><span data-stu-id="16f4e-116">Create a single NTFS volume on each hard drive and assign a drive letter to the volume.</span></span> <span data-ttu-id="16f4e-117">没有装入点。</span><span class="sxs-lookup"><span data-stu-id="16f4e-117">No mountpoints.</span></span>
2.  <span data-ttu-id="16f4e-118">若要在 Windows 计算机上启用加密，请启用 NTFS 卷上的 bit locker 加密。</span><span class="sxs-lookup"><span data-stu-id="16f4e-118">To enable encryption on the windows machine, enable bit locker encryption on the NTFS volume.</span></span> <span data-ttu-id="16f4e-119">请使用 https://technet.microsoft.com/library/cc731549(v=ws.10).aspx 中的说明。</span><span class="sxs-lookup"><span data-stu-id="16f4e-119">Use the instructions on https://technet.microsoft.com/library/cc731549(v=ws.10).aspx.</span></span>
3.  <span data-ttu-id="16f4e-120">使用复制粘贴或拖放操作，或使用 RoboCopy 或任何类似的工具将数据完全复制到磁盘上这些加密的 NTFS 卷。</span><span class="sxs-lookup"><span data-stu-id="16f4e-120">Completely copy data to these encrypted single NTFS volumes on disks using copy & paste or  drag & drop or Robocopy or any such tool.</span></span>
7.  <span data-ttu-id="16f4e-121">从 https://www.microsoft.com/en-us/download/details.aspx?id=42659 下载 WAImportExport V1</span><span class="sxs-lookup"><span data-stu-id="16f4e-121">Download WAImportExport V1 from https://www.microsoft.com/en-us/download/details.aspx?id=42659</span></span>
8.  <span data-ttu-id="16f4e-122">解压缩到默认文件夹 waimportexportv1。</span><span class="sxs-lookup"><span data-stu-id="16f4e-122">Unzip to the default folder waimportexportv1.</span></span> <span data-ttu-id="16f4e-123">例如，C:\WaImportExportV1</span><span class="sxs-lookup"><span data-stu-id="16f4e-123">For example, C:\WaImportExportV1</span></span>  
9.  <span data-ttu-id="16f4e-124">以管理员身份运行并打开 PowerShell 或命令行，并将目录更改为解压缩的文件夹。</span><span class="sxs-lookup"><span data-stu-id="16f4e-124">Run as Administrator and open a PowerShell or Command line and change directory to the unzipped folder.</span></span> <span data-ttu-id="16f4e-125">例如，cd C:\WaImportExportV1</span><span class="sxs-lookup"><span data-stu-id="16f4e-125">For example, cd C:\WaImportExportV1</span></span>
10. <span data-ttu-id="16f4e-126">将以下命令行复制到文本编辑器并进行编辑，以创建命令行：</span><span class="sxs-lookup"><span data-stu-id="16f4e-126">Copy the following command line to a text editor and edit it to create a command line:</span></span>

    ```
    ./WAImportExport.exe PrepImport /j:JournalTest.jrn /id:session#1 /sk:***== /t:D /bk:*** /srcdir:D:\ /dstdir:ContainerName/ /skipwrite 
    ```

    <span data-ttu-id="16f4e-127">下表介绍了这些命令行选项：</span><span class="sxs-lookup"><span data-stu-id="16f4e-127">These command line options are described in the following table:</span></span>

    |<span data-ttu-id="16f4e-128">选项</span><span class="sxs-lookup"><span data-stu-id="16f4e-128">Option</span></span>  |<span data-ttu-id="16f4e-129">说明</span><span class="sxs-lookup"><span data-stu-id="16f4e-129">Description</span></span>  |
    |---------|---------|
    |<span data-ttu-id="16f4e-130">/j:</span><span class="sxs-lookup"><span data-stu-id="16f4e-130">/j:</span></span>     |<span data-ttu-id="16f4e-131">带有 .jrn 扩展名的日志文件的名称。</span><span class="sxs-lookup"><span data-stu-id="16f4e-131">The name of the journal file, with the .jrn extension.</span></span> <span data-ttu-id="16f4e-132">会为每个驱动器生成一个日志文件。</span><span class="sxs-lookup"><span data-stu-id="16f4e-132">A journal file is generated per drive.</span></span> <span data-ttu-id="16f4e-133">建议使用磁盘序列号作为日志文件名。</span><span class="sxs-lookup"><span data-stu-id="16f4e-133">Using the disk serial number as the journal file name is recommended.</span></span>         |
    |<span data-ttu-id="16f4e-134">/sk:</span><span class="sxs-lookup"><span data-stu-id="16f4e-134">/sk:</span></span>     |<span data-ttu-id="16f4e-135">Azure 存储帐户密钥。</span><span class="sxs-lookup"><span data-stu-id="16f4e-135">The Azure Storage account key.</span></span>         |
    |<span data-ttu-id="16f4e-136">/t:</span><span class="sxs-lookup"><span data-stu-id="16f4e-136">/t:</span></span>     |<span data-ttu-id="16f4e-137">要寄送的磁盘的驱动器号。</span><span class="sxs-lookup"><span data-stu-id="16f4e-137">The drive letter of the disk to be shipped.</span></span> <span data-ttu-id="16f4e-138">例如，驱动器 `D`。</span><span class="sxs-lookup"><span data-stu-id="16f4e-138">For example, drive `D`.</span></span>         |
    |<span data-ttu-id="16f4e-139">/bk:</span><span class="sxs-lookup"><span data-stu-id="16f4e-139">/bk:</span></span>     |<span data-ttu-id="16f4e-140">驱动器的 BitLocker 密钥。</span><span class="sxs-lookup"><span data-stu-id="16f4e-140">The BitLocker key for the drive.</span></span> <span data-ttu-id="16f4e-141">其数字密码来自 ` manage-bde -protectors -get D: ` 的输出</span><span class="sxs-lookup"><span data-stu-id="16f4e-141">Its numerical password from output of ` manage-bde -protectors -get D: `</span></span>      |
    |<span data-ttu-id="16f4e-142">/srcdir:</span><span class="sxs-lookup"><span data-stu-id="16f4e-142">/srcdir:</span></span>     |<span data-ttu-id="16f4e-143">要寄送的磁盘的驱动器号后跟 `:\`。</span><span class="sxs-lookup"><span data-stu-id="16f4e-143">The drive letter of the disk to be shipped followed by `:\`.</span></span> <span data-ttu-id="16f4e-144">例如，`D:\`。</span><span class="sxs-lookup"><span data-stu-id="16f4e-144">For example, `D:\`.</span></span>         |
    |<span data-ttu-id="16f4e-145">/dstdir:</span><span class="sxs-lookup"><span data-stu-id="16f4e-145">/dstdir:</span></span>     |<span data-ttu-id="16f4e-146">Azure 存储中的目标容器的名称</span><span class="sxs-lookup"><span data-stu-id="16f4e-146">The name of the destination container in Azure Storage</span></span>         |
    |<span data-ttu-id="16f4e-147">/skipwrite:</span><span class="sxs-lookup"><span data-stu-id="16f4e-147">/skipwrite:</span></span>     |<span data-ttu-id="16f4e-148">此选项指定没有需要复制的新数据以及要准备磁盘上的现有数据</span><span class="sxs-lookup"><span data-stu-id="16f4e-148">The option that specifies that there is no new data required to be copied and existing data on the disk is to be prepared</span></span>         |
1. <span data-ttu-id="16f4e-149">为每个需要寄送的磁盘重复步骤 10。</span><span class="sxs-lookup"><span data-stu-id="16f4e-149">Repeat step 10 for each of disk that needs to be shipped.</span></span>
2. <span data-ttu-id="16f4e-150">每次运行命令行时，都会创建使用 /j： 参数提供名称的日志文件。</span><span class="sxs-lookup"><span data-stu-id="16f4e-150">A journal file with name provided with /j: parameter is created for every run of the command line.</span></span>

### <a name="step-2-create-an-import-job-on-azure-portal"></a><span data-ttu-id="16f4e-151">步骤 2：在 Azure 门户中创建导入作业。</span><span class="sxs-lookup"><span data-stu-id="16f4e-151">Step 2: Create an Import Job on Azure Portal.</span></span>

1. <span data-ttu-id="16f4e-152">登录 https://portal.azure.cn/ ，在“更多服务”->“存储”->“导入/导出作业”下，单击“创建导入/导出作业”  。</span><span class="sxs-lookup"><span data-stu-id="16f4e-152">Log on to https://portal.azure.cn/ and under More services -> STORAGE -> "Import/export jobs" Click **Create Import/export Job**.</span></span>

2. <span data-ttu-id="16f4e-153">在“基本”部分中，选择“导入 Azure”，输入作业名称字符串，选择订阅，输入或选择资源组。</span><span class="sxs-lookup"><span data-stu-id="16f4e-153">In Basics section, select "Import into Azure", enter a string for job name, select a subscription, enter or select a resource group.</span></span> <span data-ttu-id="16f4e-154">输入导入作业的描述性名称。</span><span class="sxs-lookup"><span data-stu-id="16f4e-154">Enter a descriptive name for the import job.</span></span> <span data-ttu-id="16f4e-155">请注意，输入的名称只能包含大小写字母、数字、连字符和下划线，必须以字母开头并且不得包含空格。</span><span class="sxs-lookup"><span data-stu-id="16f4e-155">Note that the name you enter may contain both higher and lowercase letters, numbers, hyphens, and underscores, must start with a letter, and may not contain spaces.</span></span> <span data-ttu-id="16f4e-156">在作业进行中以及作业完成后，使用所选名称来跟踪作业。</span><span class="sxs-lookup"><span data-stu-id="16f4e-156">You use the name you choose to track your jobs while they are in progress and once they are completed.</span></span>

3. <span data-ttu-id="16f4e-157">在“作业详细信息”部分中，上传在驱动器准备步骤中获取的驱动器日志文件。</span><span class="sxs-lookup"><span data-stu-id="16f4e-157">In Job details section, upload the drive journal files that you obtained during the drive preparation step.</span></span> <span data-ttu-id="16f4e-158">如果使用了 waimportexport.exe version1，需要为已准备好的每个驱动器上传一个文件。</span><span class="sxs-lookup"><span data-stu-id="16f4e-158">If waimportexport.exe version1 was used, you need to upload one file for each drive that you have prepared.</span></span> <span data-ttu-id="16f4e-159">在“导入目标”存储帐户部分中，选择要将数据导入哪个存储帐户。</span><span class="sxs-lookup"><span data-stu-id="16f4e-159">Select the storage account that the data will be imported into in the "Import destination" Storage account section.</span></span> <span data-ttu-id="16f4e-160">“放置位置”根据选定存储帐户所属的区域自动进行填充。</span><span class="sxs-lookup"><span data-stu-id="16f4e-160">The Drop-Off location is automatically populated based on the region of the storage account selected.</span></span>

   ![创建导入作业 - 步骤 3](./media/storage-import-export-service/import-job-03.png)
4. <span data-ttu-id="16f4e-162">在“回寄信息”部分中，从下拉列表中选择快递商，并输入已通过此快递商创建的有效快递商帐号。</span><span class="sxs-lookup"><span data-stu-id="16f4e-162">In Return shipping info section, select the carrier from the drop-down list and enter a valid carrier account number that you have created with that carrier.</span></span> <span data-ttu-id="16f4e-163">当导入作业完成后，我们使用此帐户寄回驱动器。</span><span class="sxs-lookup"><span data-stu-id="16f4e-163">We use this account to ship the drives back to you once your import job is complete.</span></span> <span data-ttu-id="16f4e-164">输入完整、有效的联系人姓名、电话号码、电子邮件地址、街道地址、城市、邮政编码、州/省/自治区/直辖市和国家/地区。</span><span class="sxs-lookup"><span data-stu-id="16f4e-164">Provide a complete and valid contact name, phone, email, street address, city, zip, state/proviince and country/region.</span></span>

5. <span data-ttu-id="16f4e-165">在“摘要”部分中，输入 Azure 数据中心寄送地址是为了将磁盘寄送到 Azure 数据中心。</span><span class="sxs-lookup"><span data-stu-id="16f4e-165">In the Summary section, Azure DataCenter shipping address is provided to be used for shipping disks to Azure DC.</span></span> <span data-ttu-id="16f4e-166">请确保寄送标签上标明了作业名称和完整地址。</span><span class="sxs-lookup"><span data-stu-id="16f4e-166">Ensure that the job name and the full address are mentioned on the shipping label.</span></span> 

6. <span data-ttu-id="16f4e-167">单击“摘要页”上的“确定”，完成“创建导入作业”。</span><span class="sxs-lookup"><span data-stu-id="16f4e-167">Click OK on the Summary Page to complete Import job creation.</span></span>

### <a name="step-3-ship-the-drives-to-the-azure-datacenter-shipping-address-provided-in-step-2"></a><span data-ttu-id="16f4e-168">步骤 3：将驱动器寄送到步骤 2 中提供的 Azure 数据中心寄送地址。</span><span class="sxs-lookup"><span data-stu-id="16f4e-168">Step 3: Ship the drive/s to the Azure Datacenter shipping address provided in Step 2.</span></span>
<span data-ttu-id="16f4e-169">可以使用 FedEx 或中国邮政将包裹寄送到 Azure DC。</span><span class="sxs-lookup"><span data-stu-id="16f4e-169">FedEx or the China Postal Service can be used to ship the package to Azure DC.</span></span>

### <a name="step-4-update-the-job-created-in-step2-with-tracking-number-of-the-shipment"></a><span data-ttu-id="16f4e-170">步骤 4：使用货物的跟踪号更新在步骤 2 中创建的作业。</span><span class="sxs-lookup"><span data-stu-id="16f4e-170">Step 4: Update the job created in Step2 with tracking number of the shipment.</span></span>
<span data-ttu-id="16f4e-171">寄送磁盘后，返回到 Azure 门户上的“导入/导出”  页，通过以下步骤更新跟踪号：a) 转到并单击导入作业；b) 单击“驱动器寄送后，更新作业状态和跟踪信息”  。</span><span class="sxs-lookup"><span data-stu-id="16f4e-171">After shipping the disks, return to the **Import/Export** page on the Azure portal to update the tracking number using the steps below, a) Navigate and click on the import job b) Click on **Update job status and tracking info once drives are shipped**.</span></span> <span data-ttu-id="16f4e-172">c) 选中“标记为‘已寄送’”复选框；d) 输入“快递商”和“跟踪号码”。</span><span class="sxs-lookup"><span data-stu-id="16f4e-172">c) Select the check box "Mark as shipped" d) Provide the Carrier and Tracking number.</span></span>
<span data-ttu-id="16f4e-173">如果在创建作业后的 2 周内未更新跟踪号，该作业便会过期。</span><span class="sxs-lookup"><span data-stu-id="16f4e-173">If the tracking number is not updated within 2 weeks of creating the job, the job will expire.</span></span> <span data-ttu-id="16f4e-174">可以在门户仪表板上跟踪作业进度。</span><span class="sxs-lookup"><span data-stu-id="16f4e-174">The job progress can be tracked on the portal dashboard.</span></span> <span data-ttu-id="16f4e-175">若要了解上一部分中每个作业状态的含义，请 [查看作业状态](#viewing-your-job-and-drive-status)。</span><span class="sxs-lookup"><span data-stu-id="16f4e-175">See what each job state in the previous section means by [Viewing your job status](#viewing-your-job-and-drive-status).</span></span>

## <a name="when-should-i-use-the-azure-importexport-service"></a><span data-ttu-id="16f4e-176">应该在什么时候使用 Azure 导入/导出服务？</span><span class="sxs-lookup"><span data-stu-id="16f4e-176">When should I use the Azure Import/Export service?</span></span>
<span data-ttu-id="16f4e-177">如果通过网络上传或下载数据速度太慢，或者获取额外的网络带宽因成本过高而受到限制，则可考虑使用 Azure 导入/导出服务。</span><span class="sxs-lookup"><span data-stu-id="16f4e-177">Consider using Azure Import/Export service when uploading or downloading data over the network is too slow, or getting additional network bandwidth is cost-prohibitive.</span></span>

<span data-ttu-id="16f4e-178">下面这样的场景可以使用此服务：</span><span class="sxs-lookup"><span data-stu-id="16f4e-178">You can use this service in scenarios such as:</span></span>

* <span data-ttu-id="16f4e-179">将数据迁移到云：将大量数据快速且经济高效地转移到 Azure。</span><span class="sxs-lookup"><span data-stu-id="16f4e-179">Migrating data to the cloud: Move large amounts of data to Azure quickly and cost effectively.</span></span>
* <span data-ttu-id="16f4e-180">内容分发：将数据快速发送到客户站点。</span><span class="sxs-lookup"><span data-stu-id="16f4e-180">Content distribution: Quickly send data to your customer sites.</span></span>
* <span data-ttu-id="16f4e-181">备份：将本地数据备份后存储在 Azure 存储中。</span><span class="sxs-lookup"><span data-stu-id="16f4e-181">Backup: Take backups of your on-premises data to store in Azure Storage.</span></span>
* <span data-ttu-id="16f4e-182">数据恢复：恢复存储在存储中的大量数据，然后将其递送到本地位置。</span><span class="sxs-lookup"><span data-stu-id="16f4e-182">Data recovery: Recover large amount of data stored in storage and have it delivered to your on-premises location.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="16f4e-183">先决条件</span><span class="sxs-lookup"><span data-stu-id="16f4e-183">Prerequisites</span></span>
<span data-ttu-id="16f4e-184">本部分列出了使用此服务需要满足的先决条件。</span><span class="sxs-lookup"><span data-stu-id="16f4e-184">In this section, we list the prerequisites required to use this service.</span></span> <span data-ttu-id="16f4e-185">在寄送驱动器之前仔细查看这些先决条件。</span><span class="sxs-lookup"><span data-stu-id="16f4e-185">Review them carefully before shipping your drives.</span></span>

### <a name="storage-account"></a><span data-ttu-id="16f4e-186">存储帐户</span><span class="sxs-lookup"><span data-stu-id="16f4e-186">Storage account</span></span>
<span data-ttu-id="16f4e-187">必须拥有 Azure 订阅以及一个或多个存储帐户才能使用导入/导出服务。</span><span class="sxs-lookup"><span data-stu-id="16f4e-187">You must have an existing Azure subscription and one or more storage accounts to use the Import/Export service.</span></span> <span data-ttu-id="16f4e-188">Azure 导入/导出仅支持经典、Blob 存储帐户和常规用途 v1 存储帐户。</span><span class="sxs-lookup"><span data-stu-id="16f4e-188">Azure Import/Export only supports classic, Blob Storage accounts and General Purpose v1 storage accounts.</span></span> <span data-ttu-id="16f4e-189">每个作业只能用于将数据传入/传出一个存储帐户。</span><span class="sxs-lookup"><span data-stu-id="16f4e-189">Each job may be used to transfer data to or from only one storage account.</span></span> <span data-ttu-id="16f4e-190">换言之，一个导入/导出作业不能跨多个存储帐户。</span><span class="sxs-lookup"><span data-stu-id="16f4e-190">In other words, a single import/export job cannot span across multiple storage accounts.</span></span> <span data-ttu-id="16f4e-191">有关创建新存储帐户的信息，请参阅[如何创建存储帐户](/storage/common/storage-quickstart-create-account)。</span><span class="sxs-lookup"><span data-stu-id="16f4e-191">For information on creating a new storage account, see [How to Create a Storage Account](/storage/common/storage-quickstart-create-account).</span></span>

> [!IMPORTANT] 
> <span data-ttu-id="16f4e-192">Azure 导入导出服务不支持已启用[虚拟网络服务终结点](../virtual-network/virtual-network-service-endpoints-overview.md)功能的存储帐户。</span><span class="sxs-lookup"><span data-stu-id="16f4e-192">The Azure Import Export service does not support storage accounts where the [Virtual Network Service Endpoints](../virtual-network/virtual-network-service-endpoints-overview.md) feature has been enabled.</span></span> 
> 
> 

### <a name="data-types"></a><span data-ttu-id="16f4e-193">数据类型</span><span class="sxs-lookup"><span data-stu-id="16f4e-193">Data types</span></span>
<span data-ttu-id="16f4e-194">可使用 Azure 导入/导出服务将数据复制到“块”Blob、“页”Blob 或文件中。   </span><span class="sxs-lookup"><span data-stu-id="16f4e-194">You can use Azure Import/Export service to copy data to **Block** blobs, **Page** blobs, or **Files**.</span></span> <span data-ttu-id="16f4e-195">与之相反，只能使用此服务从 Azure 存储中导出块  blob、页  blob 或追加  blob。</span><span class="sxs-lookup"><span data-stu-id="16f4e-195">Conversely, you can only export **Block** blobs, **Page** blobs or **Append** blobs from Azure storage using this service.</span></span> <span data-ttu-id="16f4e-196">该服务仅支持将 Azure 文件导入到 Azure 存储。</span><span class="sxs-lookup"><span data-stu-id="16f4e-196">The service supports only import of Azure Files into Azure storage.</span></span> <span data-ttu-id="16f4e-197">当前暂不支持导出 Azure 文件。</span><span class="sxs-lookup"><span data-stu-id="16f4e-197">Exporting Azure Files is not currently supported.</span></span>

### <a name="job"></a><span data-ttu-id="16f4e-198">作业</span><span class="sxs-lookup"><span data-stu-id="16f4e-198">Job</span></span>
<span data-ttu-id="16f4e-199">要开始从存储进行导入或导出的过程，首先要创建一个“作业”。</span><span class="sxs-lookup"><span data-stu-id="16f4e-199">To begin the process of importing to or exporting from storage, you first create a job.</span></span> <span data-ttu-id="16f4e-200">作业可以是“导入作业”或“导出作业”：</span><span class="sxs-lookup"><span data-stu-id="16f4e-200">A job can be an import job or an export job:</span></span>

* <span data-ttu-id="16f4e-201">需要将本地数据传输到 Azure 存储帐户时，可创建导入作业。</span><span class="sxs-lookup"><span data-stu-id="16f4e-201">Create an import job when you want to transfer data you have on-premises to your Azure storage account.</span></span>
* <span data-ttu-id="16f4e-202">若要将当前在存储帐户中存储的数据传输到寄送给我们的硬盘，请创建导出作业。</span><span class="sxs-lookup"><span data-stu-id="16f4e-202">Create an export job when you want to transfer data currently stored in your storage account to hard drives that are shipped to us.</span></span> <span data-ttu-id="16f4e-203">创建作业时，需通知导入/导出服务：要将一个或多个硬盘驱动器运送到 Azure 数据中心。</span><span class="sxs-lookup"><span data-stu-id="16f4e-203">When you create a job, you notify the Import/Export service that you will be shipping one or more hard drives to an Azure data center.</span></span>

* <span data-ttu-id="16f4e-204">对于导入作业，需要寄送包含数据的硬盘驱动器。</span><span class="sxs-lookup"><span data-stu-id="16f4e-204">For an import job, you will be shipping hard drives containing your data.</span></span>
* <span data-ttu-id="16f4e-205">对于导出作业，需要寄送空硬盘驱动器。</span><span class="sxs-lookup"><span data-stu-id="16f4e-205">For an export job, you will be shipping empty hard drives.</span></span>
* <span data-ttu-id="16f4e-206">每个作业最多可以寄送 10 个硬盘驱动器。</span><span class="sxs-lookup"><span data-stu-id="16f4e-206">You can ship up to 10 hard disk drives per job.</span></span>

<span data-ttu-id="16f4e-207">可以使用 Azure 门户或 [Azure 存储导入/导出 REST API](https://docs.microsoft.com/rest/api/storageimportexport) 创建导入或导出作业。</span><span class="sxs-lookup"><span data-stu-id="16f4e-207">You can create an import or export job using the Azure portal or the [Azure Storage Import/Export REST API](https://docs.microsoft.com/rest/api/storageimportexport).</span></span>

> [!Note]
> <span data-ttu-id="16f4e-208">自 2018 年 2 月 28 日起将不再支持 RDFE API。</span><span class="sxs-lookup"><span data-stu-id="16f4e-208">The RDFE APIs will not be supported February 28, 2018 onwards.</span></span> <span data-ttu-id="16f4e-209">若要继续使用此服务，请迁移到 [ARM 导入/导出 REST API](https://github.com/Azure/azure-rest-api-specs/blob/master/specification/storageimportexport/resource-manager/Microsoft.ImportExport/stable/2016-11-01/storageimportexport.json)。</span><span class="sxs-lookup"><span data-stu-id="16f4e-209">To continue using the service, migrate to the [ARM Import/Export REST APIs](https://github.com/Azure/azure-rest-api-specs/blob/master/specification/storageimportexport/resource-manager/Microsoft.ImportExport/stable/2016-11-01/storageimportexport.json).</span></span> 

### <a name="waimportexport-tool"></a><span data-ttu-id="16f4e-210">WAImportExport 工具</span><span class="sxs-lookup"><span data-stu-id="16f4e-210">WAImportExport tool</span></span>
<span data-ttu-id="16f4e-211">创建 **导入** 作业的第一步是准备需要通过寄送进行数据导入的驱动器。</span><span class="sxs-lookup"><span data-stu-id="16f4e-211">The first step in creating an **import** job is to prepare your drives that will be shipped for import.</span></span> <span data-ttu-id="16f4e-212">要准备驱动器，必须将其连接到本地服务器，然后在本地服务器上运行 WAImportExport 工具。</span><span class="sxs-lookup"><span data-stu-id="16f4e-212">To prepare your drives, you must connect it to a local server and run the WAImportExport Tool on the local server.</span></span> <span data-ttu-id="16f4e-213">使用此 WAImportExport 工具可以方便地将数据复制到驱动器、使用 BitLocker 加密驱动器上的数据，以及生成驱动器日志文件。</span><span class="sxs-lookup"><span data-stu-id="16f4e-213">This WAImportExport tool facilitates copying your data to the drive, encrypting the data on the drive with BitLocker, and generating the drive journal files.</span></span>

<span data-ttu-id="16f4e-214">日志文件存储有关作业和驱动器的基本信息，例如驱动器序列号和存储帐户名称。</span><span class="sxs-lookup"><span data-stu-id="16f4e-214">The journal files store basic information about your job and drive such as drive serial number and storage account name.</span></span> <span data-ttu-id="16f4e-215">此日志文件不存储在该驱动器上。</span><span class="sxs-lookup"><span data-stu-id="16f4e-215">This journal file is not stored on the drive.</span></span> <span data-ttu-id="16f4e-216">它在导入作业创建期间使用。</span><span class="sxs-lookup"><span data-stu-id="16f4e-216">It is used during import job creation.</span></span> <span data-ttu-id="16f4e-217">本文后面提供了有关作业创建过程的分步详细信息。</span><span class="sxs-lookup"><span data-stu-id="16f4e-217">Step-by-step details about job creation are provided later in this article.</span></span>

<span data-ttu-id="16f4e-218">WAImportExport 工具仅兼容 64 位 Windows 操作系统。</span><span class="sxs-lookup"><span data-stu-id="16f4e-218">The WAImportExport tool is only compatible with 64-bit Windows operating system.</span></span> <span data-ttu-id="16f4e-219">请参阅 [操作系统](#operating-system) 部分以了解受支持的特定 OS 版本。</span><span class="sxs-lookup"><span data-stu-id="16f4e-219">See the [Operating System](#operating-system) section for specific OS versions supported.</span></span>

<span data-ttu-id="16f4e-220">下载最新版本的 [WAImportExport 工具](https://download.microsoft.com/download/3/6/B/36BFF22A-91C3-4DFC-8717-7567D37D64C5/WAImportExportV2.zip)。</span><span class="sxs-lookup"><span data-stu-id="16f4e-220">Download the latest version of the [WAImportExport tool](https://download.microsoft.com/download/3/6/B/36BFF22A-91C3-4DFC-8717-7567D37D64C5/WAImportExportV2.zip).</span></span> 

>[!NOTE]
><span data-ttu-id="16f4e-221">**以前的版本：** 可以 [下载此工具的 WAImportExpot V1 版本](https://download.microsoft.com/download/0/C/D/0CD6ABA7-024F-4202-91A0-CE2656DCE413/WaImportExportV1.zip)。</span><span class="sxs-lookup"><span data-stu-id="16f4e-221">**Previous Version:** You can [download WAImportExpot V1](https://download.microsoft.com/download/0/C/D/0CD6ABA7-024F-4202-91A0-CE2656DCE413/WaImportExportV1.zip) version of the tool.</span></span> <span data-ttu-id="16f4e-222">WAImportExpot V1 版本的工具支持 **在已将数据预先写入磁盘的情况下准备磁盘**。</span><span class="sxs-lookup"><span data-stu-id="16f4e-222">WAImportExpot V1 version of the tool does provide support for **preparing disks when data is already pre-written to the disk**.</span></span> <span data-ttu-id="16f4e-223">如果唯一可用的密钥是 SAS 密钥，则也需要 WAImportExpot V1 工具。</span><span class="sxs-lookup"><span data-stu-id="16f4e-223">If the only key available is SAS-Key, you need to use WAImportExpot V1 tool .</span></span>

>

### <a name="hard-disk-drives"></a><span data-ttu-id="16f4e-224">硬盘驱动器</span><span class="sxs-lookup"><span data-stu-id="16f4e-224">Hard disk drives</span></span>
<span data-ttu-id="16f4e-225">只支持将 2.5 英寸 SSD 或者 2.5/3.5 英寸 SATA II 或 III 内部 HDD 用于导入/导出服务。</span><span class="sxs-lookup"><span data-stu-id="16f4e-225">Only 2.5 inch SSD or 2.5" or 3.5" SATA II or III internal HDD are supported for use with the Import/Export service.</span></span> <span data-ttu-id="16f4e-226">单个导入/导出作业最多可以有 10 个 HDD/SSD，并且每个 HDD/SSD 可以为任意大小。</span><span class="sxs-lookup"><span data-stu-id="16f4e-226">A single import/export job can have a maximum of 10 HDD/SSDs and each individual HDD/SSD can be of any size.</span></span> <span data-ttu-id="16f4e-227">大量驱动器可在多个作业中分布，且对可创建的作业数量没有限制。</span><span class="sxs-lookup"><span data-stu-id="16f4e-227">Large number of drives can be spread across multiple jobs and there is no limits on the number of jobs that can be created.</span></span> 

<span data-ttu-id="16f4e-228">对于导入作业，仅处理驱动器上的第一个数据卷。</span><span class="sxs-lookup"><span data-stu-id="16f4e-228">For import jobs, only the first data volume on the drive is processed.</span></span> <span data-ttu-id="16f4e-229">该数据卷必须使用 NTFS 进行格式化。</span><span class="sxs-lookup"><span data-stu-id="16f4e-229">The data volume must be formatted with NTFS.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="16f4e-230">此服务不支持内置 USB 适配器附带的外部硬盘驱动器。</span><span class="sxs-lookup"><span data-stu-id="16f4e-230">External hard disk drives that come with a built-in USB adaptor are not supported by this service.</span></span> <span data-ttu-id="16f4e-231">此外，不能使用外部 HDD 包装内的磁盘；请勿寄送外部 HDD。</span><span class="sxs-lookup"><span data-stu-id="16f4e-231">Also, the disk inside the casing of an external HDD cannot be used; do not send external HDDs.</span></span>
> 
> 

<span data-ttu-id="16f4e-232">以下是用于将数据复制到内部 HDD 的外部 USB 适配器列表。</span><span class="sxs-lookup"><span data-stu-id="16f4e-232">Following is a list of external USB adaptors used to copy data to internal HDDs.</span></span> <span data-ttu-id="16f4e-233">Anker 68UPSATAA-02BU Anker 68UPSHHDS-BU Startech SATADOCK22UE Orico 6628SUS3-C-BK（6628 系列）Thermaltake BlacX Hot-Swap SATA 外部硬盘驱动器坞站（USB 2.0 和 eSATA）</span><span class="sxs-lookup"><span data-stu-id="16f4e-233">Anker 68UPSATAA-02BU Anker 68UPSHHDS-BU Startech SATADOCK22UE Orico 6628SUS3-C-BK (6628 Series) Thermaltake BlacX Hot-Swap SATA External Hard Drive Docking Station (USB 2.0 & eSATA)</span></span>

### <a name="encryption"></a><span data-ttu-id="16f4e-234">加密</span><span class="sxs-lookup"><span data-stu-id="16f4e-234">Encryption</span></span>
<span data-ttu-id="16f4e-235">必须使用 BitLocker 驱动器加密对驱动器上的数据进行加密。</span><span class="sxs-lookup"><span data-stu-id="16f4e-235">The data on the drive must be encrypted using BitLocker Drive Encryption.</span></span> <span data-ttu-id="16f4e-236">此加密会在运送过程中保护数据。</span><span class="sxs-lookup"><span data-stu-id="16f4e-236">This encryption protects your data while it is in transit.</span></span>

<span data-ttu-id="16f4e-237">对于导入作业，可以通过两种方式进行加密。</span><span class="sxs-lookup"><span data-stu-id="16f4e-237">For import jobs, there are two ways to perform the encryption.</span></span> <span data-ttu-id="16f4e-238">第一种方式是在运行 WAImportExport 工具准备驱动器时，使用数据集 CSV 文件指定该选项。</span><span class="sxs-lookup"><span data-stu-id="16f4e-238">The first way is to specify the option when using dataset CSV file while running the WAImportExport tool during drive preparation.</span></span> <span data-ttu-id="16f4e-239">第二种方式是在准备驱动器期间，在驱动器上手动启用 BitLocker 加密并在运行 WAImportExport 工具命令行时，在驱动集 CSV 文件中指定加密密钥。</span><span class="sxs-lookup"><span data-stu-id="16f4e-239">The second way is to enable BitLocker encryption manually on the drive and specify the encryption key in the driveset CSV when running WAImportExport tool command line during drive preparation.</span></span>

<span data-ttu-id="16f4e-240">对于导出作业，在将数据复制到驱动器以后，此服务会使用 BitLocker 加密驱动器，然后再将驱动器寄回给你。</span><span class="sxs-lookup"><span data-stu-id="16f4e-240">For export jobs, after your data is copied to the drives, the service will encrypt the drive using BitLocker before shipping it back to you.</span></span> <span data-ttu-id="16f4e-241">加密密钥是通过 Azure 门户提供的。</span><span class="sxs-lookup"><span data-stu-id="16f4e-241">The encryption key is provided to you via the Azure portal.</span></span>  

### <a name="operating-system"></a><span data-ttu-id="16f4e-242">操作系统</span><span class="sxs-lookup"><span data-stu-id="16f4e-242">Operating System</span></span>
<span data-ttu-id="16f4e-243">在将驱动器寄送到 Azure 之前，可以使用下述 64 位操作系统之一通过 WAImportExport 工具准备硬盘驱动器：</span><span class="sxs-lookup"><span data-stu-id="16f4e-243">You can use one of the following 64-bit Operating Systems to prepare the hard drive using the WAImportExport Tool before shipping the drive to Azure:</span></span>

<span data-ttu-id="16f4e-244">Windows 7 Enterprise、Windows 7 Ultimate、Windows 8 Pro、Windows 8 Enterprise、Windows 8.1 Pro、Windows 8.1 Enterprise、Windows 10、Windows Server 2008 R2、Windows Server 2012、Windows Server 2012 R2。</span><span class="sxs-lookup"><span data-stu-id="16f4e-244">Windows 7 Enterprise, Windows 7 Ultimate, Windows 8 Pro, Windows 8 Enterprise, Windows 8.1 Pro, Windows 8.1 Enterprise, Windows 10, Windows Server 2008 R2, Windows Server 2012, Windows Server 2012 R2.</span></span> <span data-ttu-id="16f4e-245">所有这些操作系统都支持 BitLocker 驱动器加密。</span><span class="sxs-lookup"><span data-stu-id="16f4e-245">All of these operating systems support BitLocker Drive Encryption.</span></span>

### <a name="locations"></a><span data-ttu-id="16f4e-246">位置</span><span class="sxs-lookup"><span data-stu-id="16f4e-246">Locations</span></span>
<span data-ttu-id="16f4e-247">Azure 导入/导出服务支持将数据复制到所有公共 Azure 存储帐户，以及从后者进行复制。</span><span class="sxs-lookup"><span data-stu-id="16f4e-247">The Azure Import/Export service supports copying data to and from all Public Azure storage accounts.</span></span> <span data-ttu-id="16f4e-248">可以将硬盘驱动器寄送到列出的其中一个位置。</span><span class="sxs-lookup"><span data-stu-id="16f4e-248">You can ship hard disk drives to one of the listed locations.</span></span> <span data-ttu-id="16f4e-249">如果存储帐户所在的公共 Azure 位置没有在这里指定，则使用 Azure 门户或导入/导出 REST API 创建作业时，会提供备用的寄送位置。</span><span class="sxs-lookup"><span data-stu-id="16f4e-249">If your storage account is in a public Azure location which is not specified here, an alternate shipping location will be provided when you are creating the job using the Azure portal or the Import/Export REST API.</span></span>

<span data-ttu-id="16f4e-250">支持的寄送位置：</span><span class="sxs-lookup"><span data-stu-id="16f4e-250">Supported shipping locations:</span></span>
- <span data-ttu-id="16f4e-251">中国东部</span><span class="sxs-lookup"><span data-stu-id="16f4e-251">China East</span></span>
- <span data-ttu-id="16f4e-252">中国东部 2</span><span class="sxs-lookup"><span data-stu-id="16f4e-252">China East 2</span></span>
- <span data-ttu-id="16f4e-253">中国北部</span><span class="sxs-lookup"><span data-stu-id="16f4e-253">China North</span></span>
- <span data-ttu-id="16f4e-254">中国北部 2</span><span class="sxs-lookup"><span data-stu-id="16f4e-254">China North 2</span></span>


### <a name="shipping"></a><span data-ttu-id="16f4e-255">寄送</span><span class="sxs-lookup"><span data-stu-id="16f4e-255">Shipping</span></span>
<span data-ttu-id="16f4e-256">**将驱动器寄送到数据中心：**</span><span class="sxs-lookup"><span data-stu-id="16f4e-256">**Shipping drives to the data center:**</span></span>

<span data-ttu-id="16f4e-257">创建导入或导出作业时，会向你提供某个受支持位置的寄送地址，以便你寄送自己的驱动器。</span><span class="sxs-lookup"><span data-stu-id="16f4e-257">When creating an import or export job, you will be provided a shipping address of one of the supported locations to ship your drives.</span></span> <span data-ttu-id="16f4e-258">提供的寄送地址取决于存储帐户的位置，但可能不同于存储帐户位置。</span><span class="sxs-lookup"><span data-stu-id="16f4e-258">The shipping address provided depends on the location of your storage account, but may not be the same as your storage account location.</span></span>

<span data-ttu-id="16f4e-259">可以通过 FedEx 或中国邮政等快递商将驱动器寄送到寄送地址。</span><span class="sxs-lookup"><span data-stu-id="16f4e-259">You can use carriers like FedEx or the China Postal Service to ship your drives to the shipping address.</span></span>

<span data-ttu-id="16f4e-260">**从数据中心寄送驱动器：**</span><span class="sxs-lookup"><span data-stu-id="16f4e-260">**Shipping drives from the data center:**</span></span>

<span data-ttu-id="16f4e-261">创建导入或导出作业时，必须提供回寄地址，以便 21Vainet 在作业完成后使用该地址寄回驱动器。</span><span class="sxs-lookup"><span data-stu-id="16f4e-261">When creating an import or export job, you must provide a return address for 21Vainet to use when shipping the drives back after your job is complete.</span></span> <span data-ttu-id="16f4e-262">请确保提供有效的回寄地址，以免延误对驱动器的处理。</span><span class="sxs-lookup"><span data-stu-id="16f4e-262">Please make sure you provide a valid return address to avoid delays in processing.</span></span>

<span data-ttu-id="16f4e-263">该承运人商应提供相应的跟踪号来维护监护链。</span><span class="sxs-lookup"><span data-stu-id="16f4e-263">The carrier should have appropriate tracking in order to maintain chain of custody.</span></span> <span data-ttu-id="16f4e-264">此外，还必须提供有效的中国邮政服务帐号，以便我们寄回驱动器。</span><span class="sxs-lookup"><span data-stu-id="16f4e-264">You must also provide a valid China Postal Service account number to be used by us for shipping the drives back.</span></span> <span data-ttu-id="16f4e-265">如果已经有了一个快递商帐户号码，请确保其有效。</span><span class="sxs-lookup"><span data-stu-id="16f4e-265">If you already have a carrier account number, please verify that it is valid.</span></span>

<span data-ttu-id="16f4e-266">寄送包裹时，必须遵循 [Azure 服务条款](https://www.azure.cn/support/legal/services-terms/)中的条款。</span><span class="sxs-lookup"><span data-stu-id="16f4e-266">In shipping your packages, you must follow the terms at [Azure Service Terms](https://www.azure.cn/support/legal/services-terms/).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="16f4e-267">请注意，发运的物理介质可能需要穿越国界。</span><span class="sxs-lookup"><span data-stu-id="16f4e-267">Note that the physical media that you are shipping may need to cross international borders.</span></span> <span data-ttu-id="16f4e-268">应当负责确保物理介质和数据是遵照适用的法律导入和/或导出的。</span><span class="sxs-lookup"><span data-stu-id="16f4e-268">You are responsible for ensuring that your physical media and data are imported and/or exported in accordance with the applicable laws.</span></span> <span data-ttu-id="16f4e-269">在寄送物理介质之前，请咨询顾问以验证介质和数据是否可以合法地寄送到所确定的数据中心。</span><span class="sxs-lookup"><span data-stu-id="16f4e-269">Before shipping the physical media, check with your advisers to verify that your media and data can legally be shipped to the identified data center.</span></span> <span data-ttu-id="16f4e-270">这有助于确保它可以及时到达 Microsoft。</span><span class="sxs-lookup"><span data-stu-id="16f4e-270">This helps to ensure that it reaches Microsoft in a timely manner.</span></span> <span data-ttu-id="16f4e-271">例如，任何跨国界的包裹都需要附上商业发票（除非在欧盟内跨越国界）。</span><span class="sxs-lookup"><span data-stu-id="16f4e-271">For instance, any package that crosses international borders needs a commercial invoice to be accompanied with the package (except if crossing borders within European Union).</span></span> <span data-ttu-id="16f4e-272">可从快递商网站打印填写好的商业发票的副本。</span><span class="sxs-lookup"><span data-stu-id="16f4e-272">You could print out a filled copy of the commercial invoice from carrier website.</span></span> <span data-ttu-id="16f4e-273">比如，商业发票可以是 [FedEx 商业发票](https://images.fedex.com/downloads/shared/shipdocuments/blankforms/commercialinvoice.pdf)。</span><span class="sxs-lookup"><span data-stu-id="16f4e-273">Example of commercial invoice is [FedEx Commercial Invoice](https://images.fedex.com/downloads/shared/shipdocuments/blankforms/commercialinvoice.pdf).</span></span> <span data-ttu-id="16f4e-274">请确保 Microsoft 未被指定为导出者。</span><span class="sxs-lookup"><span data-stu-id="16f4e-274">Make sure that Microsoft has not been indicated as the exporter.</span></span>
> 
> 

## <a name="how-does-the-azure-importexport-service-work"></a><span data-ttu-id="16f4e-275">Azure 导入/导出服务是如何工作的？</span><span class="sxs-lookup"><span data-stu-id="16f4e-275">How does the Azure Import/Export service work?</span></span>
<span data-ttu-id="16f4e-276">可以使用 Azure 导入/导出服务在本地站点和 Azure 存储之间传输数据，只需创建作业，然后将硬盘驱动器寄送到 Azure 数据中心即可。</span><span class="sxs-lookup"><span data-stu-id="16f4e-276">You can transfer data between your on-premises site and Azure storage using the Azure Import/Export service by creating jobs and shipping hard disk drives to an Azure data center.</span></span> <span data-ttu-id="16f4e-277">寄送的每个硬盘驱动器都与单个作业相关联。</span><span class="sxs-lookup"><span data-stu-id="16f4e-277">Each hard disk drive you ship is associated with a single job.</span></span> <span data-ttu-id="16f4e-278">每个作业都与单个存储帐户相关联。</span><span class="sxs-lookup"><span data-stu-id="16f4e-278">Each job is associated with a single storage account.</span></span> <span data-ttu-id="16f4e-279">请仔细查看[先决条件](#prerequisites)部分，以了解此服务的具体情况，例如支持的数据类型、磁盘类型、位置和寄送方式。</span><span class="sxs-lookup"><span data-stu-id="16f4e-279">Review the [pre-requisites section](#prerequisites) carefully to learn about the specifics of this service such as supported data types, disk types, locations, and shipping.</span></span>

<span data-ttu-id="16f4e-280">此部分介绍作业导入和导出操作中涉及的高级别步骤。</span><span class="sxs-lookup"><span data-stu-id="16f4e-280">In this section, high level steps involved in import and export of jobs are described.</span></span> <span data-ttu-id="16f4e-281">随后，将提供分步说明，指导如何创建导入和导出作业。</span><span class="sxs-lookup"><span data-stu-id="16f4e-281">Later, step-by-step instructions to create an import and export job is provided.</span></span>

### <a name="inside-an-import-job"></a><span data-ttu-id="16f4e-282">关于导入作业</span><span class="sxs-lookup"><span data-stu-id="16f4e-282">Inside an import job</span></span>
<span data-ttu-id="16f4e-283">概括而言，导入作业包括以下步骤：</span><span class="sxs-lookup"><span data-stu-id="16f4e-283">At a high level, an import job involves the following steps:</span></span>

* <span data-ttu-id="16f4e-284">确定要导入的数据，以及所需驱动器数目。</span><span class="sxs-lookup"><span data-stu-id="16f4e-284">Determine the data to be imported, and the number of drives you need.</span></span>
* <span data-ttu-id="16f4e-285">确定 Azure 存储中用于存储数据的目标 Blob 或文件位置。</span><span class="sxs-lookup"><span data-stu-id="16f4e-285">Identify the destination blob or file location for your data in Azure storage.</span></span>
* <span data-ttu-id="16f4e-286">使用 WAImportExport 工具将数据复制到一个或多个硬盘驱动器，并使用 BitLocker 进行加密。</span><span class="sxs-lookup"><span data-stu-id="16f4e-286">Use the WAImportExport Tool to copy your data to one or more hard disk drives and encrypt them with BitLocker.</span></span>
* <span data-ttu-id="16f4e-287">使用 Azure 门户或导入/导出 REST API 在目标存储帐户中创建导入作业。</span><span class="sxs-lookup"><span data-stu-id="16f4e-287">Create an import job in your target storage account using the Azure portal or the Import/Export REST API.</span></span> <span data-ttu-id="16f4e-288">如果使用 Azure 门户，请上传驱动器日记文件。</span><span class="sxs-lookup"><span data-stu-id="16f4e-288">If using the Azure portal, upload the drive journal files.</span></span>
* <span data-ttu-id="16f4e-289">请提供回寄地址以及快递商帐户号码，以便我们将驱动器寄回给你。</span><span class="sxs-lookup"><span data-stu-id="16f4e-289">Provide the return address and carrier account number to be used for shipping the drives back to you.</span></span>
* <span data-ttu-id="16f4e-290">将硬盘驱动器寄送到在创建作业时获得的寄送地址。</span><span class="sxs-lookup"><span data-stu-id="16f4e-290">Ship the hard disk drives to the shipping address provided during job creation.</span></span>
* <span data-ttu-id="16f4e-291">在导入作业详细信息中更新快递跟踪号码，并提交导入作业。</span><span class="sxs-lookup"><span data-stu-id="16f4e-291">Update the delivery tracking number in the import job details and submit the import job.</span></span>
* <span data-ttu-id="16f4e-292">Azure 数据中心在收到驱动器后会对其进行处理。</span><span class="sxs-lookup"><span data-stu-id="16f4e-292">Drives are received and processed at the Azure data center.</span></span>
* <span data-ttu-id="16f4e-293">该中心会使用快递商帐户将驱动器寄送到在导入作业中提供的回寄地址。</span><span class="sxs-lookup"><span data-stu-id="16f4e-293">Drives are shipped using your carrier account to the return address provided in the import job.</span></span>

    ![图 1：导入作业流](./media/storage-import-export-service/import-job.png)

### <a name="inside-an-export-job"></a><span data-ttu-id="16f4e-295">关于导出作业</span><span class="sxs-lookup"><span data-stu-id="16f4e-295">Inside an export job</span></span>
> [!IMPORTANT]
> <span data-ttu-id="16f4e-296">此服务仅支持导出 Azure Blob，不支持导出 Azure 文件。</span><span class="sxs-lookup"><span data-stu-id="16f4e-296">The service only support export of Azure Blobs and does not support export of Azure Files..</span></span>
> 
>

<span data-ttu-id="16f4e-297">概括而言，导出作业包括以下步骤：</span><span class="sxs-lookup"><span data-stu-id="16f4e-297">At a high level, an export job involves the following steps:</span></span>

* <span data-ttu-id="16f4e-298">确定要导出的数据，以及所需驱动器数目。</span><span class="sxs-lookup"><span data-stu-id="16f4e-298">Determine the data to be exported and the number of drives you need.</span></span>
* <span data-ttu-id="16f4e-299">确定数据在 Blob 存储中的源 Blob 或容器路径。</span><span class="sxs-lookup"><span data-stu-id="16f4e-299">Identify the source blobs or container paths of your data in Blob storage.</span></span>
* <span data-ttu-id="16f4e-300">使用 Azure 门户或导入/导出 REST API 在源存储帐户中创建导出作业。</span><span class="sxs-lookup"><span data-stu-id="16f4e-300">Create an export job in your source storage account using the Azure portal or the Import/Export REST API.</span></span>
* <span data-ttu-id="16f4e-301">指定数据在导出作业中的源 Blob 或容器路径。</span><span class="sxs-lookup"><span data-stu-id="16f4e-301">Specify the source blobs or container paths of your data in the export job.</span></span>
* <span data-ttu-id="16f4e-302">请提供回寄地址以及快递商帐户号码，以便我们将驱动器寄回给你。</span><span class="sxs-lookup"><span data-stu-id="16f4e-302">Provide the return address and carrier account number for to be used for shipping the drives back to you.</span></span>
* <span data-ttu-id="16f4e-303">将硬盘驱动器寄送到在创建作业时获得的寄送地址。</span><span class="sxs-lookup"><span data-stu-id="16f4e-303">Ship the hard disk drives to the shipping address provided during job creation.</span></span>
* <span data-ttu-id="16f4e-304">在导出作业详细信息中更新快递跟踪号码，并提交导出作业。</span><span class="sxs-lookup"><span data-stu-id="16f4e-304">Update the delivery tracking number in the export job details and submit the export job.</span></span>
* <span data-ttu-id="16f4e-305">Azure 数据中心在收到驱动器后会对其进行处理。</span><span class="sxs-lookup"><span data-stu-id="16f4e-305">The drives are received and processed at the Azure data center.</span></span>
* <span data-ttu-id="16f4e-306">驱动器使用 BitLocker 加密；密钥通过 Azure 门户提供。</span><span class="sxs-lookup"><span data-stu-id="16f4e-306">The drives are encrypted with BitLocker; the keys are available via the Azure portal.</span></span>  
* <span data-ttu-id="16f4e-307">该中心会使用快递商帐户将驱动器寄送到在导入作业中提供的回寄地址。</span><span class="sxs-lookup"><span data-stu-id="16f4e-307">The drives are shipped using your carrier account to the return address provided in the import job.</span></span>

    ![图 2：导出作业流](./media/storage-import-export-service/export-job.png)

### <a name="viewing-your-job-and-drive-status"></a><span data-ttu-id="16f4e-309">查看作业和驱动器状态</span><span class="sxs-lookup"><span data-stu-id="16f4e-309">Viewing your job and drive status</span></span>
<span data-ttu-id="16f4e-310">可以从 Azure 门户跟踪导入或导出作业的状态。</span><span class="sxs-lookup"><span data-stu-id="16f4e-310">You can track the status of your import or export jobs from the Azure portal.</span></span> <span data-ttu-id="16f4e-311">单击“导入/导出”选项卡。随即页面上显示作业列表。</span><span class="sxs-lookup"><span data-stu-id="16f4e-311">Click the **Import/Export** tab. A list of your jobs appears on the page.</span></span>

![查看作业状态](./media/storage-import-export-service/job-state.png)

<span data-ttu-id="16f4e-313">会看到以下作业状态之一，具体取决于驱动器处于哪个处理阶段。</span><span class="sxs-lookup"><span data-stu-id="16f4e-313">You see one of the following job statuses depending on where your drive is in the process.</span></span>

| <span data-ttu-id="16f4e-314">作业状态</span><span class="sxs-lookup"><span data-stu-id="16f4e-314">Job Status</span></span> | <span data-ttu-id="16f4e-315">说明</span><span class="sxs-lookup"><span data-stu-id="16f4e-315">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="16f4e-316">Creating</span><span class="sxs-lookup"><span data-stu-id="16f4e-316">Creating</span></span> | <span data-ttu-id="16f4e-317">创建一个作业后，其状态设置为 Creating。</span><span class="sxs-lookup"><span data-stu-id="16f4e-317">After a job is created, its state is set to Creating.</span></span> <span data-ttu-id="16f4e-318">当作业处于 Creating 状态时，导入/导出服务假设驱动器尚未寄送到数据中心。</span><span class="sxs-lookup"><span data-stu-id="16f4e-318">While the job is in the Creating state, the Import/Export service assumes the drives have not been shipped to the data center.</span></span> <span data-ttu-id="16f4e-319">作业可保持 Creating 状态最多两周，之后服务会自动将其删除。</span><span class="sxs-lookup"><span data-stu-id="16f4e-319">A job may remain in the Creating state for up to two weeks, after which it is automatically deleted by the service.</span></span> |
| <span data-ttu-id="16f4e-320">寄送</span><span class="sxs-lookup"><span data-stu-id="16f4e-320">Shipping</span></span> | <span data-ttu-id="16f4e-321">寄出包裹后，应在 Azure 门户中更新跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="16f4e-321">After you ship your package, you should update the tracking information in the Azure portal.</span></span>  <span data-ttu-id="16f4e-322">这会将作业转为“Shipping”状态。</span><span class="sxs-lookup"><span data-stu-id="16f4e-322">This will turn the job into "Shipping".</span></span> <span data-ttu-id="16f4e-323">作业将保持 Shipping 状态最多两周。</span><span class="sxs-lookup"><span data-stu-id="16f4e-323">The job will remain in the Shipping state for up to two weeks.</span></span> 
| <span data-ttu-id="16f4e-324">Received</span><span class="sxs-lookup"><span data-stu-id="16f4e-324">Received</span></span> | <span data-ttu-id="16f4e-325">数据中心中收到所有驱动器后，作业状态将设置为 Received。</span><span class="sxs-lookup"><span data-stu-id="16f4e-325">After all drives have been received at the data center, the job state will be set to the Received.</span></span> |
| <span data-ttu-id="16f4e-326">转移</span><span class="sxs-lookup"><span data-stu-id="16f4e-326">Transferring</span></span> | <span data-ttu-id="16f4e-327">至少已开始处理一个驱动器后，作业状态将设置为 Transferring。</span><span class="sxs-lookup"><span data-stu-id="16f4e-327">Once at least one drive has begun processing, the job state will be set to the Transferring.</span></span> <span data-ttu-id="16f4e-328">有关详细信息，请参阅下面的“驱动器状态”部分。</span><span class="sxs-lookup"><span data-stu-id="16f4e-328">See the Drive States section below for detailed information.</span></span> |
| <span data-ttu-id="16f4e-329">打包</span><span class="sxs-lookup"><span data-stu-id="16f4e-329">Packaging</span></span> | <span data-ttu-id="16f4e-330">处理完所有驱动器后，作业将进入 Packaging 状态，直到将驱动器寄回给客户。</span><span class="sxs-lookup"><span data-stu-id="16f4e-330">After all drives have completed processing, the job will be placed in the Packaging state until the drives are shipped back to you.</span></span> |
| <span data-ttu-id="16f4e-331">已完成</span><span class="sxs-lookup"><span data-stu-id="16f4e-331">Completed</span></span> | <span data-ttu-id="16f4e-332">将所有驱动器寄回客户后，如果完成作业时未出现错误，该作业将设置为 Completed 状态。</span><span class="sxs-lookup"><span data-stu-id="16f4e-332">After all drives have been shipped back to the customer, if the job has completed without errors, then the job will be set to the Completed state.</span></span> <span data-ttu-id="16f4e-333">作业在保持 Completed 状态 90 天后会自动删除。</span><span class="sxs-lookup"><span data-stu-id="16f4e-333">The job will be automatically deleted after 90 days in the Completed state.</span></span> |
| <span data-ttu-id="16f4e-334">已关闭</span><span class="sxs-lookup"><span data-stu-id="16f4e-334">Closed</span></span> | <span data-ttu-id="16f4e-335">将所有驱动器寄回客户后，如果在处理作业期间出现过错误，该作业将设置为 Closed 状态。</span><span class="sxs-lookup"><span data-stu-id="16f4e-335">After all drives have been shipped back to the customer, if there have been any errors during the processing of the job, then the job will be set to the Closed state.</span></span> <span data-ttu-id="16f4e-336">作业在保持 Closed 状态 90 天后会自动删除。</span><span class="sxs-lookup"><span data-stu-id="16f4e-336">The job will be automatically deleted after 90 days in the Closed state.</span></span> |

<span data-ttu-id="16f4e-337">下表描述了单个驱动器在导入或导出作业中转换时的生命周期。</span><span class="sxs-lookup"><span data-stu-id="16f4e-337">The table below describes the life cycle of an individual drive as it transitions through an import or export job.</span></span> <span data-ttu-id="16f4e-338">现在，作业中每个驱动器的当前状态会在 Azure 门户中显示。</span><span class="sxs-lookup"><span data-stu-id="16f4e-338">The current state of each drive in a job is now visible from the Azure portal.</span></span>
<span data-ttu-id="16f4e-339">下表描述了每个驱动器在作业中可能经历的每种状态。</span><span class="sxs-lookup"><span data-stu-id="16f4e-339">The following table describes each state that each drive in a job may pass through.</span></span>

| <span data-ttu-id="16f4e-340">驱动器状态</span><span class="sxs-lookup"><span data-stu-id="16f4e-340">Drive State</span></span> | <span data-ttu-id="16f4e-341">说明</span><span class="sxs-lookup"><span data-stu-id="16f4e-341">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="16f4e-342">Specified</span><span class="sxs-lookup"><span data-stu-id="16f4e-342">Specified</span></span> | <span data-ttu-id="16f4e-343">对于导入作业，在 Azure 门户中创建作业时，驱动器的初始状态为 Specified。</span><span class="sxs-lookup"><span data-stu-id="16f4e-343">For an import job, when the job is created from the Azure portal, the initial state for a drive is the Specified state.</span></span> <span data-ttu-id="16f4e-344">对于导出作业，由于在创建该作业时未指定驱动器，因此驱动器的初始状态为 Received。</span><span class="sxs-lookup"><span data-stu-id="16f4e-344">For an export job, since no drive is specified when the job is created, the initial drive state is the Received state.</span></span> |
| <span data-ttu-id="16f4e-345">Received</span><span class="sxs-lookup"><span data-stu-id="16f4e-345">Received</span></span> | <span data-ttu-id="16f4e-346">导入/导出服务操作员为导入作业处理从货运公司收到的驱动器后，驱动器将转换为 Received 状态。</span><span class="sxs-lookup"><span data-stu-id="16f4e-346">The drive transitions to the Received state when the Import/Export service operator has processed the drives that were received from the shipping company for an import job.</span></span> <span data-ttu-id="16f4e-347">对于导出作业，初始驱动器状态为 Received。</span><span class="sxs-lookup"><span data-stu-id="16f4e-347">For an export job, the initial drive state is the Received state.</span></span> |
| <span data-ttu-id="16f4e-348">NeverReceived</span><span class="sxs-lookup"><span data-stu-id="16f4e-348">NeverReceived</span></span> | <span data-ttu-id="16f4e-349">当作业的包裹已送达但包裹不包含驱动器时，驱动器将转换为 NeverReceived 状态。</span><span class="sxs-lookup"><span data-stu-id="16f4e-349">The drive will move to the NeverReceived state when the package for a job arrives but the package doesn't contain the drive.</span></span> <span data-ttu-id="16f4e-350">如果在服务收到发货信息后的两周内包裹未送达数据中心，驱动器也会转换为此状态。</span><span class="sxs-lookup"><span data-stu-id="16f4e-350">A drive can also move into this state if it has been two weeks since the service received the shipping information, but the package has not yet arrived at the data center.</span></span> |
| <span data-ttu-id="16f4e-351">转移</span><span class="sxs-lookup"><span data-stu-id="16f4e-351">Transferring</span></span> | <span data-ttu-id="16f4e-352">服务开始将数据从驱动器传输到 Azure 存储时，驱动器将转换为 Transferring 状态。</span><span class="sxs-lookup"><span data-stu-id="16f4e-352">A drive will move to the Transferring state when the service begins to transfer data from the drive to Azure Storage.</span></span> |
| <span data-ttu-id="16f4e-353">已完成</span><span class="sxs-lookup"><span data-stu-id="16f4e-353">Completed</span></span> | <span data-ttu-id="16f4e-354">服务成功传输所有数据且未出错时，驱动器将转换为 Completed 状态。</span><span class="sxs-lookup"><span data-stu-id="16f4e-354">A drive will move to the Completed state when the service has successfully transferred all the data with no errors.</span></span>
| <span data-ttu-id="16f4e-355">CompletedMoreInfo</span><span class="sxs-lookup"><span data-stu-id="16f4e-355">CompletedMoreInfo</span></span> | <span data-ttu-id="16f4e-356">如果服务在从驱动器中复制数据或将数据复制到驱动器时遇到一些问题，驱动器将转换为 CompletedMoreInfo 状态。</span><span class="sxs-lookup"><span data-stu-id="16f4e-356">A drive will move to the CompletedMoreInfo state when the service has encountered some issues while copying data either from or to the drive.</span></span> <span data-ttu-id="16f4e-357">信息可以包含有关覆盖 Blob 的错误、警告或信息性消息。</span><span class="sxs-lookup"><span data-stu-id="16f4e-357">The information can include errors, warnings, or informational messages about overwriting blobs.</span></span>
| <span data-ttu-id="16f4e-358">ShippedBack</span><span class="sxs-lookup"><span data-stu-id="16f4e-358">ShippedBack</span></span> | <span data-ttu-id="16f4e-359">驱动器从数据中心寄送到回邮地址后，驱动器将转换为 ShippedBack 状态。</span><span class="sxs-lookup"><span data-stu-id="16f4e-359">The drive will move to the ShippedBack state when it has been shipped from the data center back to the return address.</span></span> |

<span data-ttu-id="16f4e-360">Azure 门户中的此映像会显示示例作业的驱动器状态：</span><span class="sxs-lookup"><span data-stu-id="16f4e-360">This image from the Azure portal displays the drive state of an example job:</span></span>

![查看驱动器状态](./media/storage-import-export-service/drivestate.png)

<span data-ttu-id="16f4e-362">下表描述了驱动器故障状态以及针对每种状态采取的措施。</span><span class="sxs-lookup"><span data-stu-id="16f4e-362">The following table describes the drive failure states and the actions taken for each state.</span></span>

| <span data-ttu-id="16f4e-363">驱动器状态</span><span class="sxs-lookup"><span data-stu-id="16f4e-363">Drive State</span></span> | <span data-ttu-id="16f4e-364">事件</span><span class="sxs-lookup"><span data-stu-id="16f4e-364">Event</span></span> | <span data-ttu-id="16f4e-365">解决方法/后续步骤</span><span class="sxs-lookup"><span data-stu-id="16f4e-365">Resolution / Next step</span></span> |
|:--- |:--- |:--- |
| <span data-ttu-id="16f4e-366">NeverReceived</span><span class="sxs-lookup"><span data-stu-id="16f4e-366">NeverReceived</span></span> | <span data-ttu-id="16f4e-367">标记为 NeverReceived 的驱动器（因为在作业寄送过程中未收到）通过另一次寄送送达。</span><span class="sxs-lookup"><span data-stu-id="16f4e-367">A drive that is marked as NeverReceived (because it was not received as part of the job's shipment) arrives in another shipment.</span></span> | <span data-ttu-id="16f4e-368">运营团队将驱动器状态转换为 Received。</span><span class="sxs-lookup"><span data-stu-id="16f4e-368">The operations team will move the drive to the Received state.</span></span> |
| <span data-ttu-id="16f4e-369">不适用</span><span class="sxs-lookup"><span data-stu-id="16f4e-369">N/A</span></span> | <span data-ttu-id="16f4e-370">不属于任何作业的驱动器将作为其他作业的一部分送至数据中心。</span><span class="sxs-lookup"><span data-stu-id="16f4e-370">A drive that is not part of any job arrives at the data center as part of another job.</span></span> | <span data-ttu-id="16f4e-371">完成与原始包裹关联的作业后，驱动器将标记为额外驱动器并寄回给客户。</span><span class="sxs-lookup"><span data-stu-id="16f4e-371">The drive will be marked as an extra drive and will be returned to the customer when the job associated with the original package is completed.</span></span> |

### <a name="time-to-process-job"></a><span data-ttu-id="16f4e-372">处理作业的时间</span><span class="sxs-lookup"><span data-stu-id="16f4e-372">Time to process job</span></span>
<span data-ttu-id="16f4e-373">处理导入/导出作业的时间各不相同，取决于很多因素，例如寄送时间、数据中心的加载、要复制的数据的作业类型和大小，以及作业中的磁盘数量。</span><span class="sxs-lookup"><span data-stu-id="16f4e-373">The amount of time it takes to process an import/export job varies based on a number of factors such as shipping time, the load at the DataCenter, the job type and size of the data being copied, and number of disks in a job.</span></span> <span data-ttu-id="16f4e-374">导入/导出服务没有 SLA，但在收到磁盘之后，服务力求在 7 到 10 天内完成复制。</span><span class="sxs-lookup"><span data-stu-id="16f4e-374">Import/Export service does not have an SLA but the service strives to complete the copy in 7 to 10 days after the disks are received.</span></span> <span data-ttu-id="16f4e-375">除了在 Azure 门户上发布的状态以外，REST API 还可用于跟踪作业进度。</span><span class="sxs-lookup"><span data-stu-id="16f4e-375">In addition to the status posted on Azure Portal, REST APIs can be used to track the job progress.</span></span> <span data-ttu-id="16f4e-376">作业操作 API 调用的列表中的完成百分比参数提供了复制进度的百分比。</span><span class="sxs-lookup"><span data-stu-id="16f4e-376">The percent complete parameter in the List Jobs operation API call provides the percentage copy progress.</span></span>

### <a name="pricing"></a><span data-ttu-id="16f4e-377">定价</span><span class="sxs-lookup"><span data-stu-id="16f4e-377">Pricing</span></span>
<span data-ttu-id="16f4e-378">**驱动器处理费用**</span><span class="sxs-lookup"><span data-stu-id="16f4e-378">**Drive handling fee**</span></span>

<span data-ttu-id="16f4e-379">在导入或导出作业的过程中，处理每个驱动器都需要支付驱动器处理费用。</span><span class="sxs-lookup"><span data-stu-id="16f4e-379">There is a drive handling fee for each drive processed as part of your import or export job.</span></span> <span data-ttu-id="16f4e-380">请参阅有关 [Azure 导入/导出定价](https://www.azure.cn/pricing/details/storage-import-export/)的详细信息。</span><span class="sxs-lookup"><span data-stu-id="16f4e-380">See the details on the [Azure Import/Export Pricing](https://www.azure.cn/pricing/details/storage-import-export/).</span></span>

<span data-ttu-id="16f4e-381">**寄送费用**</span><span class="sxs-lookup"><span data-stu-id="16f4e-381">**Shipping costs**</span></span>

<span data-ttu-id="16f4e-382">将驱动器寄送到 Azure 时，需要向快递商支付寄送费用。</span><span class="sxs-lookup"><span data-stu-id="16f4e-382">When you ship drives to Azure, you pay the shipping cost to the shipping carrier.</span></span> <span data-ttu-id="16f4e-383">当 Microsoft 将驱动器寄回给你时，寄送费用由你在创建作业时提供的快递商帐户支付。</span><span class="sxs-lookup"><span data-stu-id="16f4e-383">When Microsoft returns the drives to you, the shipping cost is charged to the carrier account which you provided at the time of job creation.</span></span>

<span data-ttu-id="16f4e-384">**事务成本**</span><span class="sxs-lookup"><span data-stu-id="16f4e-384">**Transaction costs**</span></span>

<span data-ttu-id="16f4e-385">将数据导入 Azure 存储时，除标准存储事务成本外没有任何事务成本。</span><span class="sxs-lookup"><span data-stu-id="16f4e-385">There are no transaction costs in addition to standard storage transaction costs when importing data into Azure Storage.</span></span> <span data-ttu-id="16f4e-386">将数据从 Blob 存储导出时，需支付标准的传出费用。</span><span class="sxs-lookup"><span data-stu-id="16f4e-386">The standard egress charges are applicable when data is exported from Blob storage.</span></span> <span data-ttu-id="16f4e-387">有关事务费用的更多详细信息，请参阅[数据传输定价。](https://www.azure.cn/pricing/details/data-transfer/)</span><span class="sxs-lookup"><span data-stu-id="16f4e-387">For more details on transaction costs, see [Data transfer pricing.](https://www.azure.cn/pricing/details/data-transfer/)</span></span>



## <a name="how-to-import-data-into-azure-file-storage-using-internal-sata-hdds-and-ssds"></a><span data-ttu-id="16f4e-388">如何使用内部 SATA HDD 和 SSD 将数据导入 Azure 文件存储？</span><span class="sxs-lookup"><span data-stu-id="16f4e-388">How to import data into Azure File Storage using internal SATA HDDs and SSDs?</span></span>
<span data-ttu-id="16f4e-389">如果将磁盘上的数据导入 Azure 文件 存储，请执行以下步骤。</span><span class="sxs-lookup"><span data-stu-id="16f4e-389">Follow the below steps if the data on the disk is to be imported into Azure File Storage.</span></span>
<span data-ttu-id="16f4e-390">使用 Azure 导入/导出服务导入数据时，第一步是通过 WAImportExport 工具准备驱动器。</span><span class="sxs-lookup"><span data-stu-id="16f4e-390">The first step when importing data using the Azure Import/Export service is to prepare your drives using the WAImportExport tool.</span></span> <span data-ttu-id="16f4e-391">按照以下步骤准备驱动器。</span><span class="sxs-lookup"><span data-stu-id="16f4e-391">Follow the steps below to prepare your drives.</span></span>

1. <span data-ttu-id="16f4e-392">标识要导入 Azure 文件存储的数据。</span><span class="sxs-lookup"><span data-stu-id="16f4e-392">Identify the data to be imported into Azure File Storage.</span></span> <span data-ttu-id="16f4e-393">导入的数据可以是本地服务器或网络共享中的目录和独立文件。</span><span class="sxs-lookup"><span data-stu-id="16f4e-393">This could be directories and standalone files on the local server or a network share.</span></span>  
2. <span data-ttu-id="16f4e-394">根据数据总大小确定所需驱动器数目。</span><span class="sxs-lookup"><span data-stu-id="16f4e-394">Determine the number of drives you will need depending on total size of the data.</span></span> <span data-ttu-id="16f4e-395">采购所需数目的 2.5 英寸 SSD 或者 2.5/3.5 英寸 SATA II 或 III 硬盘驱动器。</span><span class="sxs-lookup"><span data-stu-id="16f4e-395">Procure the required number of 2.5 inch SSD or 2.5" or 3.5" SATA II or III hard disk drives.</span></span>
3. <span data-ttu-id="16f4e-396">确定要复制到每个磁盘驱动器的目录和/或独立文件。</span><span class="sxs-lookup"><span data-stu-id="16f4e-396">Determine the directories and/or standalone files that will be copied to each hard disk drive.</span></span>
4. <span data-ttu-id="16f4e-397">为数据集和驱动器集创建 CSV 文件。</span><span class="sxs-lookup"><span data-stu-id="16f4e-397">Create the CSV files for dataset and driveset.</span></span>

   <span data-ttu-id="16f4e-398">以下是导入数据作为 Azure 文件的数据集 CSV 文件示例：</span><span class="sxs-lookup"><span data-stu-id="16f4e-398">Below is a sample dataset CSV file example for importing data as Azure Files:</span></span>

    ```
    BasePath,DstItemPathOrPrefix,ItemType,Disposition,MetadataFile,PropertiesFile
    "F:\50M_original\100M_1.csv.txt","fileshare/100M_1.csv.txt",file,rename,"None",None
    "F:\50M_original\","fileshare/",file,rename,"None",None 
    ```
   <span data-ttu-id="16f4e-399">在上面的示例中，100M_1.csv.txt 将复制到“fileshare”的根目录中。</span><span class="sxs-lookup"><span data-stu-id="16f4e-399">In the above example, 100M_1.csv.txt  will be copied to the root of the "fileshare".</span></span> <span data-ttu-id="16f4e-400">如果“Fileshare”不存在，将创建一个。</span><span class="sxs-lookup"><span data-stu-id="16f4e-400">If the "Fileshare" does not exist, one will be created.</span></span> <span data-ttu-id="16f4e-401">50M_original 下的所有文件和文件夹以递归方式复制到 fileshare。</span><span class="sxs-lookup"><span data-stu-id="16f4e-401">All files and folders under 50M_original will be recursively copied to fileshare.</span></span> <span data-ttu-id="16f4e-402">文件夹结构保持不变。</span><span class="sxs-lookup"><span data-stu-id="16f4e-402">Folder structure will be maintained.</span></span>


<span data-ttu-id="16f4e-403">**驱动器集 CSV 文件**</span><span class="sxs-lookup"><span data-stu-id="16f4e-403">**Driveset CSV File**</span></span>

<span data-ttu-id="16f4e-404">驱动器集标志的值是一个 CSV 文件，其中包含要使工具可以正确选择要准备的磁盘列表，要将驱动器号映射到的磁盘的列表。</span><span class="sxs-lookup"><span data-stu-id="16f4e-404">The value of the driveset flag is a CSV file which contains the list of disks to which the drive letters are mapped in order for the tool to correctly pick the list of disks to be prepared.</span></span> 

<span data-ttu-id="16f4e-405">下面是驱动器集 CSV 文件的示例：</span><span class="sxs-lookup"><span data-stu-id="16f4e-405">Below is the example of driveset CSV file:</span></span>

```
DriveLetter,FormatOption,SilentOrPromptOnFormat,Encryption,ExistingBitLockerKey
G,AlreadyFormatted,SilentMode,AlreadyEncrypted,060456-014509-132033-080300-252615-584177-672089-411631 |
H,Format,SilentMode,Encrypt,
```

<span data-ttu-id="16f4e-406">在上面的示例中，假设附加了两个磁盘，并创建了盘符为 G:\ 和 H:\ 的基本 NFTS 卷。</span><span class="sxs-lookup"><span data-stu-id="16f4e-406">In the above example, it is assumed that two disks are attached and basic NTFS volumes with volume-letter G:\ and H:\ have been created.</span></span> <span data-ttu-id="16f4e-407">工具将格式化并加密托管 H:\ 的磁盘，但不会格式化并加密托管卷 G:\ 的磁盘。</span><span class="sxs-lookup"><span data-stu-id="16f4e-407">The tool will format and encrypt the disk which hosts H:\ and will not format or encrypt the disk hosting volume G:\.</span></span>

6. <span data-ttu-id="16f4e-408">使用 [WAImportExport 工具](https://download.microsoft.com/download/3/6/B/36BFF22A-91C3-4DFC-8717-7567D37D64C5/WAImportExport.zip)将数据复制到一个或多个硬盘驱动器。</span><span class="sxs-lookup"><span data-stu-id="16f4e-408">Use the [WAImportExport Tool](https://download.microsoft.com/download/3/6/B/36BFF22A-91C3-4DFC-8717-7567D37D64C5/WAImportExport.zip) to copy your data to one or more hard drives.</span></span>
7. <span data-ttu-id="16f4e-409">可以通过在驱动器集 CSV 中的 Encryption 字段内指定“Encrypt”，在硬盘驱动器上启用 BitLocker 加密。</span><span class="sxs-lookup"><span data-stu-id="16f4e-409">You can specify "Encrypt" on Encryption field in drivset CSV to enable BitLocker encryption on the hard disk drive.</span></span> <span data-ttu-id="16f4e-410">也可以手动在硬盘驱动器上启用 BitLocker 加密，并在运行工具时，在驱动器集 CSV 文件中指定“AlreadyEncrypted”并提供密钥。</span><span class="sxs-lookup"><span data-stu-id="16f4e-410">Alternatively, you could also enable BitLocker encryption manually on the hard disk drive and specify "AlreadyEncrypted" and supply the key in the driveset CSV while running the tool.</span></span>

8. <span data-ttu-id="16f4e-411">完成磁盘准备操作以后，请勿修改硬盘驱动器上的数据，也勿修改日志文件。</span><span class="sxs-lookup"><span data-stu-id="16f4e-411">Do not modify the data on the hard disk drives or the journal file after completing disk preparation.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="16f4e-412">准备的每个硬盘驱动器都会生成一个日记文件。</span><span class="sxs-lookup"><span data-stu-id="16f4e-412">Each hard disk drive you prepare will result in a journal file.</span></span> <span data-ttu-id="16f4e-413">使用 Azure 门户创建导入作业时，必须上传属于该导入作业的驱动器的所有日记文件。</span><span class="sxs-lookup"><span data-stu-id="16f4e-413">When you are creating the import job using the Azure portal, you must upload all the journal files of the drives which are part of that import job.</span></span> <span data-ttu-id="16f4e-414">不带日志文件的驱动器将得不到处理。</span><span class="sxs-lookup"><span data-stu-id="16f4e-414">Drives without journal files will not be processed.</span></span>
> 
>

<span data-ttu-id="16f4e-415">下面是使用 WAImportExport 工具进行硬盘驱动器准备的命令和示例。</span><span class="sxs-lookup"><span data-stu-id="16f4e-415">Below are the commands and examples for preparing the hard disk drive using WAImportExport tool.</span></span>

<span data-ttu-id="16f4e-416">在第一个复制会话中使用新复制会话复制目录和/或文件的 WAImportExport 工具 PrepImport 命令：</span><span class="sxs-lookup"><span data-stu-id="16f4e-416">WAImportExport tool PrepImport command for the first copy session to copy directories and/or files with a new copy session:</span></span>

```
WAImportExport.exe PrepImport /j:<JournalFile> /id:<SessionId> [/logdir:<LogDirectory>] [/sk:<StorageAccountKey>] [/silentmode] [/InitialDriveSet:<driveset.csv>] DataSet:<dataset.csv>
```

<span data-ttu-id="16f4e-417">**导入示例 1**</span><span class="sxs-lookup"><span data-stu-id="16f4e-417">**Import example 1**</span></span>

```
WAImportExport.exe PrepImport /j:JournalTest.jrn /id:session#1  /sk:************* /InitialDriveSet:driveset-1.csv /DataSet:dataset-1.csv /logdir:F:\logs
```

<span data-ttu-id="16f4e-418">若要 **添加更多驱动器**，可以创建一个新的驱动器集文件并运行以下命令。</span><span class="sxs-lookup"><span data-stu-id="16f4e-418">In order to **add more drives**, one can create a new driveset file and run the command as below.</span></span> <span data-ttu-id="16f4e-419">如果后续复制会话中的磁盘驱动器与 InitialDriveset .csv 中指定的不同，可以指定一个新的驱动器集 CSV 文件并将其作为值提供给“AdditionalDriveSet”参数。</span><span class="sxs-lookup"><span data-stu-id="16f4e-419">For subsequent copy sessions to the different disk drives than specified in InitialDriveset .csv file, specify a new driveset CSV file and provide it as a value to the parameter "AdditionalDriveSet".</span></span> <span data-ttu-id="16f4e-420">使用 **同一日记文件** 的名称并提供 **新的会话 ID**。</span><span class="sxs-lookup"><span data-stu-id="16f4e-420">Use the **same journal file** name and provide a **new session ID**.</span></span> <span data-ttu-id="16f4e-421">AdditionalDriveset CSV 文件的格式与 InitialDriveSet 的格式相同。</span><span class="sxs-lookup"><span data-stu-id="16f4e-421">The format of AdditionalDriveset CSV file is same as InitialDriveSet format.</span></span>

```
WAImportExport.exe PrepImport /j:<JournalFile> /id:<SessionId> /AdditionalDriveSet:<driveset.csv>
```

<span data-ttu-id="16f4e-422">**导入示例 2**</span><span class="sxs-lookup"><span data-stu-id="16f4e-422">**Import example 2**</span></span>
```
WAImportExport.exe PrepImport /j:JournalTest.jrn /id:session#3  /AdditionalDriveSet:driveset-2.csv
```

<span data-ttu-id="16f4e-423">若要向同一个驱动器集添加更多数据，后续复制会话可以调用 WAImportExport 工具的 PrepImport 命令来复制其他文件/目录：对于 InitialDriveset .csv 文件中为相同硬盘驱动器指定的后续复制会话，请指定 **同一日记文件** 的名称并提供 **新的会话 ID**；不需要提供存储帐户密钥。</span><span class="sxs-lookup"><span data-stu-id="16f4e-423">In order to add additional data to the same driveset, WAImportExport tool PrepImport command can be called for subsequent copy sessions to copy additional files/directory: For subsequent copy sessions to the same hard disk drives specified in InitialDriveset .csv file, specify the **same journal file** name and provide a **new session ID**; there is no need to provide the storage account key.</span></span>

```
WAImportExport PrepImport /j:<JournalFile> /id:<SessionId> /j:<JournalFile> /id:<SessionId> [/logdir:<LogDirectory>] DataSet:<dataset.csv>
```

<span data-ttu-id="16f4e-424">**导入示例 3**</span><span class="sxs-lookup"><span data-stu-id="16f4e-424">**Import example 3**</span></span>

```
WAImportExport.exe PrepImport /j:JournalTest.jrn /id:session#2  /DataSet:dataset-2.csv
```

<span data-ttu-id="16f4e-425">另请参阅[为导入作业准备硬盘驱动器的示例工作流](https://docs.microsoft.com/previous-versions/azure/storage/common/storage-import-export-tool-sample-preparing-hard-drives-import-job-workflow-v1)，以获取更详细的分步说明。</span><span class="sxs-lookup"><span data-stu-id="16f4e-425">Also, refer to the [Sample workflow to prepare hard drives for an import job](https://docs.microsoft.com/previous-versions/azure/storage/common/storage-import-export-tool-sample-preparing-hard-drives-import-job-workflow-v1) for more detailed step-by-step instructions.</span></span>  



## <a name="create-an-export-job"></a><span data-ttu-id="16f4e-426">创建导出作业</span><span class="sxs-lookup"><span data-stu-id="16f4e-426">Create an export job</span></span>
<span data-ttu-id="16f4e-427">创建导出作业的目的是通知导入/导出服务：要将一个或多个空驱动器寄送到数据中心；这样数据中心就可以将数据从存储帐户导出到驱动器，并将驱动器寄送给用户。</span><span class="sxs-lookup"><span data-stu-id="16f4e-427">Create an export job to notify the Import/Export service that you'll be shipping one or more empty drives to the data center so that data can be exported from your storage account to the drives and the drives then shipped to you.</span></span>

### <a name="prepare-your-drives"></a><span data-ttu-id="16f4e-428">准备驱动器</span><span class="sxs-lookup"><span data-stu-id="16f4e-428">Prepare your drives</span></span>
<span data-ttu-id="16f4e-429">对驱动器进行准备以便完成导出作业时，建议执行以下预检查：</span><span class="sxs-lookup"><span data-stu-id="16f4e-429">Following pre-checks are recommended for preparing your drives for an export job:</span></span>

1. <span data-ttu-id="16f4e-430">使用 WAImportExport 工具的 PreviewExport 命令检查所需的磁盘数。</span><span class="sxs-lookup"><span data-stu-id="16f4e-430">Check the number of disks required using the WAImportExport tool's PreviewExport command.</span></span> <span data-ttu-id="16f4e-431">有关详细信息，请参阅[预览导出作业的驱动器使用情况](https://msdn.microsoft.com/library/azure/dn722414.aspx)。</span><span class="sxs-lookup"><span data-stu-id="16f4e-431">For more information, see [Previewing Drive Usage for an Export Job](https://msdn.microsoft.com/library/azure/dn722414.aspx).</span></span> <span data-ttu-id="16f4e-432">它可以根据要使用的驱动器大小，帮助你预览所选 Blob 的驱动器使用情况。</span><span class="sxs-lookup"><span data-stu-id="16f4e-432">It helps you preview drive usage for the blobs you selected, based on the size of the drives you are going to use.</span></span>
2. <span data-ttu-id="16f4e-433">请检查是否可以读取/写入要寄送的用于导出作业的硬盘驱动器。</span><span class="sxs-lookup"><span data-stu-id="16f4e-433">Check that you can read/write to the hard drive that will be shipped for the export job.</span></span>

### <a name="create-the-export-job"></a><span data-ttu-id="16f4e-434">创建导出作业</span><span class="sxs-lookup"><span data-stu-id="16f4e-434">Create the export job</span></span>
1. <span data-ttu-id="16f4e-435">若要创建导出作业，请在 Azure 门户上依次转到“更多服务”->“存储”->“导入/导出作业”。</span><span class="sxs-lookup"><span data-stu-id="16f4e-435">To create an export job, navigate to More services -> STORAGE -> "Import/export jobs" on the Azure portal.</span></span> <span data-ttu-id="16f4e-436">单击“创建导入/导出作业”。</span><span class="sxs-lookup"><span data-stu-id="16f4e-436">Click **Create Import/export Job**.</span></span>
2. <span data-ttu-id="16f4e-437">在“第 1 步:基本信息”中，选择“从 Azure 导出”，输入作业名称字符串，选择订阅，输入或选择资源组。</span><span class="sxs-lookup"><span data-stu-id="16f4e-437">In Step 1 Basics, select "Export from Azure", enter a string for job name, select a subscription, enter or select a resource group.</span></span> <span data-ttu-id="16f4e-438">输入导入作业的描述性名称。</span><span class="sxs-lookup"><span data-stu-id="16f4e-438">Enter a descriptive name for the import job.</span></span> <span data-ttu-id="16f4e-439">请注意，输入的名称只能包含小写字母、数字、连字符和下划线，必须以字母开头并且不得包含空格。</span><span class="sxs-lookup"><span data-stu-id="16f4e-439">Note that the name you enter may contain only lowercase letters, numbers, hyphens, and underscores, must start with a letter, and may not contain spaces.</span></span> <span data-ttu-id="16f4e-440">在作业进行中以及作业完成后，将使用所选名称来跟踪作业。</span><span class="sxs-lookup"><span data-stu-id="16f4e-440">You will use the name you choose to track your jobs while they are in progress and once they are completed.</span></span> <span data-ttu-id="16f4e-441">输入此导出作业的负责人的联系信息。</span><span class="sxs-lookup"><span data-stu-id="16f4e-441">provide contact information for the person responsible for this export job.</span></span> 

3. <span data-ttu-id="16f4e-442">在“第 2 步:作业详细信息”中，从存储帐户部分中选择要导出其中数据的存储帐户。</span><span class="sxs-lookup"><span data-stu-id="16f4e-442">In Step 2 Job details, select the storage account that the data will be exported from in the Storage account section.</span></span> <span data-ttu-id="16f4e-443">“放置位置”将根据选定存储帐户所属的区域自动进行填充。</span><span class="sxs-lookup"><span data-stu-id="16f4e-443">The Drop-Off location  will be automatically populated based on the region of the storage account selected.</span></span> <span data-ttu-id="16f4e-444">指定要从存储帐户导出到空驱动器的 blob 数据。</span><span class="sxs-lookup"><span data-stu-id="16f4e-444">Specify which blob data you wish to export from your storage account to your blank drive or drives.</span></span> <span data-ttu-id="16f4e-445">可以选择导出该存储帐户中的所有 Blob 数据，也可以指定要导出的 Blob 或 Blob 组。</span><span class="sxs-lookup"><span data-stu-id="16f4e-445">You can choose to export all blob data in the storage account, or you can specify which blobs or sets of blobs to export.</span></span>

   <span data-ttu-id="16f4e-446">若要指定要导出的 Blob，请使用“等于”选择器，并指定该 Blob 的相对路径，以容器名称开头。</span><span class="sxs-lookup"><span data-stu-id="16f4e-446">To specify a blob to export, use the **Equal To** selector, and specify the relative path to the blob, beginning with the container name.</span></span> <span data-ttu-id="16f4e-447">使用 *$root* 指定根容器。</span><span class="sxs-lookup"><span data-stu-id="16f4e-447">Use *$root* to specify the root container.</span></span>

   <span data-ttu-id="16f4e-448">若要指定以某一前缀开头的所有 Blob，请使用“开头为”选择器，并指定前缀，以正斜杠“/”开头。</span><span class="sxs-lookup"><span data-stu-id="16f4e-448">To specify all blobs starting with a prefix, use the **Starts With** selector, and specify the prefix, beginning with a forward slash '/'.</span></span> <span data-ttu-id="16f4e-449">该前缀可以是容器名称的前缀、完整容器名称或者后跟 Blob 名称前缀的完整容器名称。</span><span class="sxs-lookup"><span data-stu-id="16f4e-449">The prefix may be the prefix of the container name, the complete container name, or the complete container name followed by the prefix of the blob name.</span></span>

   <span data-ttu-id="16f4e-450">下表显示有效 Blob 路径的示例：</span><span class="sxs-lookup"><span data-stu-id="16f4e-450">The following table shows examples of valid blob paths:</span></span>

   | <span data-ttu-id="16f4e-451">选择器</span><span class="sxs-lookup"><span data-stu-id="16f4e-451">Selector</span></span> | <span data-ttu-id="16f4e-452">Blob 路径</span><span class="sxs-lookup"><span data-stu-id="16f4e-452">Blob Path</span></span> | <span data-ttu-id="16f4e-453">说明</span><span class="sxs-lookup"><span data-stu-id="16f4e-453">Description</span></span> |
   | --- | --- | --- |
   | <span data-ttu-id="16f4e-454">开头为</span><span class="sxs-lookup"><span data-stu-id="16f4e-454">Starts With</span></span> |/ |<span data-ttu-id="16f4e-455">导出存储帐户中的所有 Blob</span><span class="sxs-lookup"><span data-stu-id="16f4e-455">Exports all blobs in the storage account</span></span> |
   | <span data-ttu-id="16f4e-456">开头为</span><span class="sxs-lookup"><span data-stu-id="16f4e-456">Starts With</span></span> |<span data-ttu-id="16f4e-457">/$root/</span><span class="sxs-lookup"><span data-stu-id="16f4e-457">/$root/</span></span> |<span data-ttu-id="16f4e-458">导出根容器中的所有 Blob</span><span class="sxs-lookup"><span data-stu-id="16f4e-458">Exports all blobs in the root container</span></span> |
   | <span data-ttu-id="16f4e-459">开头为</span><span class="sxs-lookup"><span data-stu-id="16f4e-459">Starts With</span></span> |<span data-ttu-id="16f4e-460">/book</span><span class="sxs-lookup"><span data-stu-id="16f4e-460">/book</span></span> |<span data-ttu-id="16f4e-461">导出任何容器中以前缀 book 开头的所有 Blob</span><span class="sxs-lookup"><span data-stu-id="16f4e-461">Exports all blobs in any container that begins with prefix **book**</span></span> |
   | <span data-ttu-id="16f4e-462">开头为</span><span class="sxs-lookup"><span data-stu-id="16f4e-462">Starts With</span></span> |<span data-ttu-id="16f4e-463">/music/</span><span class="sxs-lookup"><span data-stu-id="16f4e-463">/music/</span></span> |<span data-ttu-id="16f4e-464">导出容器 music 中的所有 Blob</span><span class="sxs-lookup"><span data-stu-id="16f4e-464">Exports all blobs in container **music**</span></span> |
   | <span data-ttu-id="16f4e-465">开头为</span><span class="sxs-lookup"><span data-stu-id="16f4e-465">Starts With</span></span> |<span data-ttu-id="16f4e-466">/music/love</span><span class="sxs-lookup"><span data-stu-id="16f4e-466">/music/love</span></span> |<span data-ttu-id="16f4e-467">导出容器 music 中以前缀 love 开头的所有 Blob</span><span class="sxs-lookup"><span data-stu-id="16f4e-467">Exports all blobs in container **music** that begin with prefix **love**</span></span> |
   | <span data-ttu-id="16f4e-468">等于</span><span class="sxs-lookup"><span data-stu-id="16f4e-468">Equal To</span></span> |<span data-ttu-id="16f4e-469">$root/logo.bmp</span><span class="sxs-lookup"><span data-stu-id="16f4e-469">$root/logo.bmp</span></span> |<span data-ttu-id="16f4e-470">导出根容器中的 Blob logo.bmp</span><span class="sxs-lookup"><span data-stu-id="16f4e-470">Exports blob **logo.bmp** in the root container</span></span> |
   | <span data-ttu-id="16f4e-471">等于</span><span class="sxs-lookup"><span data-stu-id="16f4e-471">Equal To</span></span> |<span data-ttu-id="16f4e-472">videos/story.mp4</span><span class="sxs-lookup"><span data-stu-id="16f4e-472">videos/story.mp4</span></span> |<span data-ttu-id="16f4e-473">导出容器 videos 中的 Blob story.mp4</span><span class="sxs-lookup"><span data-stu-id="16f4e-473">Exports blob **story.mp4** in container **videos**</span></span> |

   <span data-ttu-id="16f4e-474">必须以有效格式提供 Blob 路径，以免在处理过程中出现错误，如以下屏幕快照所示。</span><span class="sxs-lookup"><span data-stu-id="16f4e-474">You must provide the blob paths in valid formats to avoid errors during processing, as shown in this screenshot.</span></span>

   ![创建导出作业 - 步骤 3](./media/storage-import-export-service/export-job-03.png)

4. <span data-ttu-id="16f4e-476">在“第 3 步:回寄信息”中，从下拉列表中选择快递商，并输入已通过此快递商创建的有效快递商帐号。</span><span class="sxs-lookup"><span data-stu-id="16f4e-476">In Step 3 Return shipping info, select the carrier from the drop down list and enter a valid carrier account number that you have created with that carrier.</span></span> <span data-ttu-id="16f4e-477">当导入作业完成后，我们会使用此帐户寄回驱动器。</span><span class="sxs-lookup"><span data-stu-id="16f4e-477">We will use this account to ship the drives back to you once your import job is complete.</span></span> <span data-ttu-id="16f4e-478">输入完整、有效的联系人姓名、电话号码、电子邮件地址、街道地址、城市、邮政编码、州/省/自治区/直辖市和国家/地区。</span><span class="sxs-lookup"><span data-stu-id="16f4e-478">Provide a complete and valid contact name, phone, email, street address, city, zip, state/proviince and country/region..</span></span>

   5. <span data-ttu-id="16f4e-479">在“摘要页”中，输入 Azure 数据中心寄送地址是为了将磁盘寄送到 Azure DC。</span><span class="sxs-lookup"><span data-stu-id="16f4e-479">In the Summary Page, Azure DataCenter shipping address is provided to be used for shipping disks to Azure DC.</span></span> <span data-ttu-id="16f4e-480">请确保寄送标签上标明了作业名称和完整地址。</span><span class="sxs-lookup"><span data-stu-id="16f4e-480">Ensure that the job name and the full address are mentioned on the shipping label.</span></span> 

5. <span data-ttu-id="16f4e-481">单击“摘要页”上的“确定”，完成“创建导入作业”</span><span class="sxs-lookup"><span data-stu-id="16f4e-481">Click OK on the Summary Page to complete Import job creation</span></span>

6. <span data-ttu-id="16f4e-482">寄送磁盘后，返回到 Azure 门户上的“导入/导出”页，再执行以下操作：a) 转到并单击导入作业；b) 单击“驱动器寄送后，更新作业状态和跟踪信息”；</span><span class="sxs-lookup"><span data-stu-id="16f4e-482">After shipping the disks, return to the **Import/Export** page on the Azure portal, a) Navigate and click on the import job b) Click on **Update job status and tracking info once drives are shipped**.</span></span> 
     <span data-ttu-id="16f4e-483">c) 选中“标记为‘已寄送’”复选框；d) 输入“快递商”和“跟踪号码”。</span><span class="sxs-lookup"><span data-stu-id="16f4e-483">c) Select the check box "Mark as shipped" d) Provide the Carrier and Tracking number.</span></span>

   <span data-ttu-id="16f4e-484">如果在创建作业后的 2 周内未更新跟踪号，该作业会过期。</span><span class="sxs-lookup"><span data-stu-id="16f4e-484">If the tracking number is not updated within 2 weeks of creating the job, the job will expire.</span></span>

7. <span data-ttu-id="16f4e-485">可以在门户仪表板上跟踪作业进度。</span><span class="sxs-lookup"><span data-stu-id="16f4e-485">You can track your job progress on the portal dashboard.</span></span> <span data-ttu-id="16f4e-486">若要了解上一部分中每个作业状态的含义，请[查看作业状态](#viewing-your-job-and-drive-status)。</span><span class="sxs-lookup"><span data-stu-id="16f4e-486">See what each job state in the previous section means by [Viewing your job status](#viewing-your-job-and-drive-status).</span></span>

   > [!NOTE]
   > <span data-ttu-id="16f4e-487">如果在复制到硬盘时要导出的 Blob 正在使用中，Azure 导入/导出服务将生成该 Blob 的快照，然后复制快照。</span><span class="sxs-lookup"><span data-stu-id="16f4e-487">If the blob to be exported is in use at the time of copying to hard drive, Azure Import/Export service will take a snapshot of the blob and copy the snapshot.</span></span>
   > 
   > 

8. <span data-ttu-id="16f4e-488">收到包含已导出数据的驱动器以后，即可查看和复制该服务为驱动器生成的 BitLocker 密钥。</span><span class="sxs-lookup"><span data-stu-id="16f4e-488">After you receive the drives with your exported data, you can view and copy the BitLocker keys generated by the service for your drive.</span></span> <span data-ttu-id="16f4e-489">在 Azure 门户中，转到导出作业，再单击“导入/导出”选项卡。从列表中选择导出作业，再单击“BitLocker 密钥”选项。</span><span class="sxs-lookup"><span data-stu-id="16f4e-489">Navigate to export job in the Azure portal and click the Import/Export tab. Select your export job from the list, and click the BitLocker Keys option.</span></span> <span data-ttu-id="16f4e-490">BitLocker 密钥随即出现，如下所示：</span><span class="sxs-lookup"><span data-stu-id="16f4e-490">The BitLocker keys appear as shown below:</span></span>

   ![查看导出作业的 BitLocker 密钥](./media/storage-import-export-service/export-job-bitlocker-keys.png)

<span data-ttu-id="16f4e-492">请查看下面的“常见问题”部分，因为该部分介绍了客户在使用此服务时遇到的最常见问题。</span><span class="sxs-lookup"><span data-stu-id="16f4e-492">Please go through the FAQ section below as it covers the most common questions customers encounter when using this service.</span></span>

## <a name="frequently-asked-questions"></a><span data-ttu-id="16f4e-493">常见问题</span><span class="sxs-lookup"><span data-stu-id="16f4e-493">Frequently asked questions</span></span>

<span data-ttu-id="16f4e-494">**是否可以使用 Azure 导入/导出服务复制 Azure 文件存储？**</span><span class="sxs-lookup"><span data-stu-id="16f4e-494">**Can I copy Azure File storage using the Azure Import/Export service?**</span></span>

<span data-ttu-id="16f4e-495">可以，Azure 导入/导出服务支持导入到 Azure 文件存储。</span><span class="sxs-lookup"><span data-stu-id="16f4e-495">Yes, the Azure Import/Export service supports import to Azure File Storage.</span></span> <span data-ttu-id="16f4e-496">目前它不支持导出 Azure 文件。</span><span class="sxs-lookup"><span data-stu-id="16f4e-496">It does not support export of Azure Files at this time.</span></span>

<span data-ttu-id="16f4e-497">**Azure 导入/导出服务是否适用于 CSP 订阅？**</span><span class="sxs-lookup"><span data-stu-id="16f4e-497">**Is the Azure Import/Export service available for CSP subscriptions?**</span></span>

<span data-ttu-id="16f4e-498">Azure 导入/导出服务支持 CSP 订阅。</span><span class="sxs-lookup"><span data-stu-id="16f4e-498">Azure Import/Export service does support CSP subscriptions.</span></span>

<span data-ttu-id="16f4e-499">**能否跳过导入作业的驱动器准备步骤？能否在不复制的情况下准备驱动器？**</span><span class="sxs-lookup"><span data-stu-id="16f4e-499">**Can I skip the drive preparation step for an import job or can I prepare a drive without copying?**</span></span>

<span data-ttu-id="16f4e-500">任何需要寄送到数据中心进行数据导入的驱动器都必须使用 WAImportExport 工具进行准备。</span><span class="sxs-lookup"><span data-stu-id="16f4e-500">Any drive that you want to ship for importing data must be prepared using the Azure WAImportExport tool.</span></span> <span data-ttu-id="16f4e-501">必须使用 WAImportExport 工具将数据复制到驱动器。</span><span class="sxs-lookup"><span data-stu-id="16f4e-501">You must use the WAImportExport tool to copy data to the drive.</span></span>

<span data-ttu-id="16f4e-502">**在创建导出作业时我是否需要执行任何磁盘准备操作？**</span><span class="sxs-lookup"><span data-stu-id="16f4e-502">**Do I need to perform any disk preparation when creating an export job?**</span></span>

<span data-ttu-id="16f4e-503">不需要，但建议执行一些预先检查。</span><span class="sxs-lookup"><span data-stu-id="16f4e-503">No, but some pre-checks are recommended.</span></span> <span data-ttu-id="16f4e-504">使用 WAImportExport 工具的 PreviewExport 命令检查所需的磁盘数。</span><span class="sxs-lookup"><span data-stu-id="16f4e-504">Check the number of disks required using the WAImportExport tool's PreviewExport command.</span></span> <span data-ttu-id="16f4e-505">有关详细信息，请参阅[预览导出作业的驱动器使用情况](https://msdn.microsoft.com/library/azure/dn722414.aspx)。</span><span class="sxs-lookup"><span data-stu-id="16f4e-505">For more information, see [Previewing Drive Usage for an Export Job](https://msdn.microsoft.com/library/azure/dn722414.aspx).</span></span> <span data-ttu-id="16f4e-506">它可以根据要使用的驱动器大小，帮助你预览所选 Blob 的驱动器使用情况。</span><span class="sxs-lookup"><span data-stu-id="16f4e-506">It helps you preview drive usage for the blobs you selected, based on the size of the drives you are going to use.</span></span> <span data-ttu-id="16f4e-507">此外，请检查是否可以读取和写入要寄送的用于导出作业的硬盘驱动器。</span><span class="sxs-lookup"><span data-stu-id="16f4e-507">Also check that you can read from and write to the hard drive that will be shipped for the export job.</span></span>

<span data-ttu-id="16f4e-508">**如果我无意中发送了不符合支持的要求的 HDD，会发生什么情况？**</span><span class="sxs-lookup"><span data-stu-id="16f4e-508">**What happens if I accidentally send an HDD which does not conform to the supported requirements?**</span></span>

<span data-ttu-id="16f4e-509">Azure 数据中心会将不符合支持要求的驱动器返还给你。</span><span class="sxs-lookup"><span data-stu-id="16f4e-509">The Azure data center will return the drive that does not conform to the supported requirements to you.</span></span> <span data-ttu-id="16f4e-510">如果包裹中只有某些驱动器满足支持要求，则会处理这些驱动器，而不符合支持要求的驱动器则会返还给你。</span><span class="sxs-lookup"><span data-stu-id="16f4e-510">If only some of the drives in the package meet the support requirements, those drives will be processed, and the drives that do not meet the requirements will be returned to you.</span></span>

<span data-ttu-id="16f4e-511">**是否可以取消我的作业？**</span><span class="sxs-lookup"><span data-stu-id="16f4e-511">**Can I cancel my job?**</span></span>

<span data-ttu-id="16f4e-512">可以取消状态为“创建”或“装运”的作业。</span><span class="sxs-lookup"><span data-stu-id="16f4e-512">You can cancel a job when its status is Creating or Shipping.</span></span>

<span data-ttu-id="16f4e-513">**在 Azure 门户中可以查看多长时间的已完成作业的状态？**</span><span class="sxs-lookup"><span data-stu-id="16f4e-513">**How long can I view the status of completed jobs in the Azure portal?**</span></span>

<span data-ttu-id="16f4e-514">可以查看最长 90 天的已完成作业的状态。</span><span class="sxs-lookup"><span data-stu-id="16f4e-514">You can view the status for completed jobs for up to 90 days.</span></span> <span data-ttu-id="16f4e-515">已完成作业会在 90 天后被删除。</span><span class="sxs-lookup"><span data-stu-id="16f4e-515">Completed jobs will be deleted after 90 days.</span></span>

<span data-ttu-id="16f4e-516">**如果我想要导入或导出 10 个以上驱动器，我应该怎样做？**</span><span class="sxs-lookup"><span data-stu-id="16f4e-516">**If I want to import or export more than 10 drives, what should I do?**</span></span>

<span data-ttu-id="16f4e-517">对于导入/导出服务，一个导入或导出作业在单个作业中只能引用 10 个驱动器。</span><span class="sxs-lookup"><span data-stu-id="16f4e-517">One import or export job can reference only 10 drives in a single job for the Import/Export service.</span></span> <span data-ttu-id="16f4e-518">如果想要装运超过 10 个驱动器，可以创建多个作业。</span><span class="sxs-lookup"><span data-stu-id="16f4e-518">If you want to ship more than 10 drives, you can create multiple jobs.</span></span> <span data-ttu-id="16f4e-519">与同一作业关联的驱动器必须放在同一个包裹中一起寄送。</span><span class="sxs-lookup"><span data-stu-id="16f4e-519">Drives that are associated with the same job must be shipped together in the same package.</span></span>

<span data-ttu-id="16f4e-520">**该服务是否会在返还驱动器之前将其格式化？**</span><span class="sxs-lookup"><span data-stu-id="16f4e-520">**Does the service format the drives before returning them?**</span></span>

<span data-ttu-id="16f4e-521">否。</span><span class="sxs-lookup"><span data-stu-id="16f4e-521">No.</span></span> <span data-ttu-id="16f4e-522">所有驱动器都使用 BitLocker 加密。</span><span class="sxs-lookup"><span data-stu-id="16f4e-522">All drives are encrypted with BitLocker.</span></span>

<span data-ttu-id="16f4e-523">**是否可为导入/导出作业从 21Vianet 购买驱动器？**</span><span class="sxs-lookup"><span data-stu-id="16f4e-523">**Can I purchase drives for import/export jobs from 21Vianet?**</span></span>

<span data-ttu-id="16f4e-524">否。</span><span class="sxs-lookup"><span data-stu-id="16f4e-524">No.</span></span> <span data-ttu-id="16f4e-525">对于导入和导出作业，用户将需要装运自己的驱动器。</span><span class="sxs-lookup"><span data-stu-id="16f4e-525">You will need to ship your own drives for both import and export jobs.</span></span>

<span data-ttu-id="16f4e-526">**如何才能访问此服务导入的数据？**</span><span class="sxs-lookup"><span data-stu-id="16f4e-526">\*\* How can I access data that is imported by this service\*\*</span></span>

<span data-ttu-id="16f4e-527">以 Azure 存储帐户名义存储的数据可以通过 Azure 门户访问，也可以使用存储资源管理器这一独立工具进行访问。</span><span class="sxs-lookup"><span data-stu-id="16f4e-527">The data under your Azure storage account can be accessed via the Azure Portal or using a standalone tool called Storage Explorer.</span></span> <span data-ttu-id="16f4e-528"> https://docs.azure.cn/vs-azure-tools-storage-manage-with-storage-explorer</span><span class="sxs-lookup"><span data-stu-id="16f4e-528">https://docs.azure.cn/vs-azure-tools-storage-manage-with-storage-explorer</span></span> 

<span data-ttu-id="16f4e-529">**导入作业完成后，我的数据在存储帐户中看起来是什么样的？ 是否会保留我的目录层次结构？**</span><span class="sxs-lookup"><span data-stu-id="16f4e-529">**After the import job completes, what will my data look like in the storage account? Will my directory hierarchy be preserved?**</span></span>

<span data-ttu-id="16f4e-530">为导入作业准备硬盘驱动器时，目标由数据集 CSV 文件中的 DstBlobPathOrPrefix 字段指定。</span><span class="sxs-lookup"><span data-stu-id="16f4e-530">When preparing a hard drive for an import job, the destination is specified by the DstBlobPathOrPrefix field in the dataset CSV.</span></span> <span data-ttu-id="16f4e-531">该目标是存储帐户中的目标容器，可以将硬盘驱动器中的数据复制到其中。</span><span class="sxs-lookup"><span data-stu-id="16f4e-531">This is the destination container in the storage account to which data from the hard drive is copied.</span></span> <span data-ttu-id="16f4e-532">在该目标容器中，为硬盘驱动器中的文件夹创建虚拟目录，为文件创建 Blob。</span><span class="sxs-lookup"><span data-stu-id="16f4e-532">Within this destination container, virtual directories are created for folders from the hard drive and blobs are created for files.</span></span> 

<span data-ttu-id="16f4e-533">**如果驱动器的文件已存在于我的存储帐户中，该服务是否会覆盖我的存储帐户中的现有 Blob 或文件？**</span><span class="sxs-lookup"><span data-stu-id="16f4e-533">**If the drive has files that already exist in my storage account, will the service overwrite existing blobs or files in my storage account?**</span></span>

<span data-ttu-id="16f4e-534">准备驱动器时，可以使用数据集 CSV 文件中名为 /Disposition:<rename|no-overwrite|overwrite> 的字段指定是否应覆盖或忽略目标文件。</span><span class="sxs-lookup"><span data-stu-id="16f4e-534">When preparing the drive, you can specify whether the destination files should be overwritten or ignored using the field in dataset CSV file called Disposition:<rename|no-overwrite|overwrite>.</span></span> <span data-ttu-id="16f4e-535">默认情况下，该服务会将新文件重命名，而不是覆盖现有 Blob 或文件。</span><span class="sxs-lookup"><span data-stu-id="16f4e-535">By default, the service will rename the new files rather than overwrite existing blobs or files.</span></span>

<span data-ttu-id="16f4e-536">**WAImportExport 工具是否与 32 位操作系统兼容？**</span><span class="sxs-lookup"><span data-stu-id="16f4e-536">**Is the WAImportExport tool compatible with 32-bit operating systems?**</span></span>
<span data-ttu-id="16f4e-537">否。</span><span class="sxs-lookup"><span data-stu-id="16f4e-537">No.</span></span> <span data-ttu-id="16f4e-538">WAImportExport 工具仅与 64 位 Windows 操作系统兼容。</span><span class="sxs-lookup"><span data-stu-id="16f4e-538">The WAImportExport tool is only compatible with 64-bit Windows operating systems.</span></span> <span data-ttu-id="16f4e-539">有关受支持的 OS 版本的完整列表，请参阅[先决条件](#prerequisites)中的“操作系统”部分。</span><span class="sxs-lookup"><span data-stu-id="16f4e-539">Please refer to the Operating Systems section in the [pre-requisites](#prerequisites) for a complete list of supported OS versions.</span></span>

<span data-ttu-id="16f4e-540">**是否应该在包裹中添加除硬盘驱动器之外的其他东西？**</span><span class="sxs-lookup"><span data-stu-id="16f4e-540">**Should I include anything other than the hard disk drive in my package?**</span></span>

<span data-ttu-id="16f4e-541">请仅发运硬盘驱动器。</span><span class="sxs-lookup"><span data-stu-id="16f4e-541">Please ship only your hard drives.</span></span> <span data-ttu-id="16f4e-542">不要包括电源线或 USB 电缆之类的物品。</span><span class="sxs-lookup"><span data-stu-id="16f4e-542">Do not include items like power supply cables or USB cables.</span></span>

<span data-ttu-id="16f4e-543">是否必须通过 FedEx 或中国邮政寄送驱动器？</span><span class="sxs-lookup"><span data-stu-id="16f4e-543">**Do I have to ship my drives using FedEx or China Postal Service?**</span></span>

<span data-ttu-id="16f4e-544">可以通过任何知名的快递商（例如 FedEx 或中国邮政）将驱动器寄送到数据中心。</span><span class="sxs-lookup"><span data-stu-id="16f4e-544">You can ship drives to the data center using any known carrier like FedEx or China Postal Service.</span></span> <span data-ttu-id="16f4e-545">但是，如果要求我们将驱动器从数据中心寄回给你，你必须提供可用地址。</span><span class="sxs-lookup"><span data-stu-id="16f4e-545">However, for shipping the drives back to you from the data center, you must provide a available address.</span></span>

<span data-ttu-id="16f4e-546">**跨国寄送驱动器是否存在限制？**</span><span class="sxs-lookup"><span data-stu-id="16f4e-546">**Are there any restrictions with shipping my drive internationally?**</span></span>

<span data-ttu-id="16f4e-547">请注意，发运的物理介质可能需要穿越国界。</span><span class="sxs-lookup"><span data-stu-id="16f4e-547">Please note that the physical media that you are shipping may need to cross international borders.</span></span> <span data-ttu-id="16f4e-548">应当负责确保物理介质和数据是遵照适用的法律导入和/或导出的。</span><span class="sxs-lookup"><span data-stu-id="16f4e-548">You are responsible for ensuring that your physical media and data are imported and/or exported in accordance with the applicable laws.</span></span> <span data-ttu-id="16f4e-549">在发运物理介质之前，请咨询顾问以验证介质和数据是否可以合法地发运到所确定的数据中心。</span><span class="sxs-lookup"><span data-stu-id="16f4e-549">Before shipping the physical media, check with your advisors to verify that your media and data can legally be shipped to the identified data center.</span></span> <span data-ttu-id="16f4e-550">这有助于确保它可以及时到达 21Vianet。</span><span class="sxs-lookup"><span data-stu-id="16f4e-550">This will help to ensure that it reaches 21Vianet in a timely manner.</span></span>

<span data-ttu-id="16f4e-551">**创建作业时，寄送地址是一个不同于存储帐户位置的位置。我该怎样做？**</span><span class="sxs-lookup"><span data-stu-id="16f4e-551">**When creating a job, the shipping address is a location that is different from my storage account location. What should I do?**</span></span>

<span data-ttu-id="16f4e-552">某些存储帐户位置映射到备用寄送位置。</span><span class="sxs-lookup"><span data-stu-id="16f4e-552">Some storage account locations are mapped to alternate shipping locations.</span></span> <span data-ttu-id="16f4e-553">此前可用的寄送位置也可临时映射到备用位置。</span><span class="sxs-lookup"><span data-stu-id="16f4e-553">Previously available shipping locations can also be temporarily mapped to alternate locations.</span></span> <span data-ttu-id="16f4e-554">在寄送驱动器之前，请始终查看你在创建作业的过程中提供的寄送地址。</span><span class="sxs-lookup"><span data-stu-id="16f4e-554">Always check the shipping address provided during job creation before shipping your drives.</span></span>

<span data-ttu-id="16f4e-555">寄送驱动器时，快递商要求提供数据中心的联系人地址和电话号码。我该提供哪些内容？</span><span class="sxs-lookup"><span data-stu-id="16f4e-555">**When shipping my drive, the carrier asks for the data center contact address and phone number. What should I provide?**</span></span>

<span data-ttu-id="16f4e-556">电话号码和数据中心地址是在创建作业过程中提供的。</span><span class="sxs-lookup"><span data-stu-id="16f4e-556">The phone number and DC address is provided as part of job creation.</span></span>

<span data-ttu-id="16f4e-557">**是否可以使用 Azure 导入/导出服务将 PST 邮箱和 SharePoint 数据复制到 O365？**</span><span class="sxs-lookup"><span data-stu-id="16f4e-557">**Can I use the Azure Import/Export service to copy PST mailboxes and SharePoint data to O365?**</span></span>

<span data-ttu-id="16f4e-558">请参阅[将 PST 文件或 SharePoint 数据导入到 Office 365](https://technet.microsoft.com/library/ms.o365.cc.ingestionhelp.aspx)。</span><span class="sxs-lookup"><span data-stu-id="16f4e-558">Please refer to [Import PST files or SharePoint data to Office 365](https://technet.microsoft.com/library/ms.o365.cc.ingestionhelp.aspx).</span></span>

<span data-ttu-id="16f4e-559">**是否可以使用 Azure 导入/导出服务将我的备份脱机复制到 Azure 备份服务？**</span><span class="sxs-lookup"><span data-stu-id="16f4e-559">**Can I use the Azure Import/Export service to copy my backups offline to the Azure Backup Service?**</span></span>

<span data-ttu-id="16f4e-560">请参阅 [Azure 备份中的脱机备份工作流](../backup/backup-azure-backup-import-export.md)。</span><span class="sxs-lookup"><span data-stu-id="16f4e-560">Please refer to [Offline Backup workflow in Azure Backup](../backup/backup-azure-backup-import-export.md).</span></span>

<span data-ttu-id="16f4e-561">**一次装运的最大 HDD数量是多少？**</span><span class="sxs-lookup"><span data-stu-id="16f4e-561">**What is the maximum number of HDD for in one shipment?**</span></span>

<span data-ttu-id="16f4e-562">一次装运中可以有任意数量的 HDD，如果磁盘属于多个作业，则建议 a) 将磁盘标记上相应的作业名称。</span><span class="sxs-lookup"><span data-stu-id="16f4e-562">Any number of HDDs can be in one shipment and if the disks belong to multiple jobs it is recommended to a) Have the disks labeled with the corresponding job names.</span></span> <span data-ttu-id="16f4e-563">b) 使用后缀为 -1、-2 等的跟踪号码更新作业。</span><span class="sxs-lookup"><span data-stu-id="16f4e-563">b) Update the jobs with a tracking number suffixed with -1, -2 etc.</span></span>

<span data-ttu-id="16f4e-564">**磁盘导入/导出支持的块 Blob 和页 Blob 的最大大小是多少？**</span><span class="sxs-lookup"><span data-stu-id="16f4e-564">**What is the Maximum Block Blob and Page Blob Size supported by Disk Import/Export?**</span></span>

<span data-ttu-id="16f4e-565">最大块 Blob 大小约为 4.768 TB 或 5,000,000 MB。</span><span class="sxs-lookup"><span data-stu-id="16f4e-565">Max Block Blob size is approximately 4.768TB  or 5,000,000 MB.</span></span>
<span data-ttu-id="16f4e-566">最大页 Blob 大小为 1TB。</span><span class="sxs-lookup"><span data-stu-id="16f4e-566">Max Page Blob size is 1TB.</span></span>

<span data-ttu-id="16f4e-567">**磁盘导入/导出是否支持 AES 256 加密？**</span><span class="sxs-lookup"><span data-stu-id="16f4e-567">**Does Disk Import/Export support AES 256 encryption?**</span></span>

<span data-ttu-id="16f4e-568">默认情况下，Azure 导入/导出服务使用 AES 128 BitLocker 加密进行加密，但在复制数据前，可以使用 BitLocker 进行手动加密，从而将加密提升为 AES 256。</span><span class="sxs-lookup"><span data-stu-id="16f4e-568">Azure Import/Export service by default encrypts with AES 128 bitlocker encryption but this can be increased to AES 256 by manually encrypting with bitlocker before data is copied.</span></span> 

<span data-ttu-id="16f4e-569">如果使用的是 [WAImportExport V1](https://download.microsoft.com/download/0/C/D/0CD6ABA7-024F-4202-91A0-CE2656DCE413/WaImportExportV1.zip)，下面展示了示例命令</span><span class="sxs-lookup"><span data-stu-id="16f4e-569">If using [WAImportExport V1](https://download.microsoft.com/download/0/C/D/0CD6ABA7-024F-4202-91A0-CE2656DCE413/WaImportExportV1.zip), below is a sample command</span></span>
```
WAImportExport PrepImport /sk:<StorageAccountKey> /csas:<ContainerSas> /t: <TargetDriveLetter> [/format] [/silentmode] [/encrypt] [/bk:<BitLockerKey>] [/logdir:<LogDirectory>] /j:<JournalFile> /id:<SessionId> /srcdir:<SourceDirectory> /dstdir:<DestinationBlobVirtualDirectory> [/Disposition:<Disposition>] [/BlobType:<BlockBlob|PageBlob>] [/PropertyFile:<PropertyFile>] [/MetadataFile:<MetadataFile>] 
```
<span data-ttu-id="16f4e-570">如果使用的是 [WAImportExport 工具](https://download.microsoft.com/download/3/6/B/36BFF22A-91C3-4DFC-8717-7567D37D64C5/WAImportExport.zip)，请指定“AlreadyEncrypted”，并在驱动集 CSV 中提供密钥。</span><span class="sxs-lookup"><span data-stu-id="16f4e-570">If using [WAImportExport Tool](https://download.microsoft.com/download/3/6/B/36BFF22A-91C3-4DFC-8717-7567D37D64C5/WAImportExport.zip) specify "AlreadyEncrypted" and supply the key in the driveset CSV.</span></span>
```
DriveLetter,FormatOption,SilentOrPromptOnFormat,Encryption,ExistingBitLockerKey
G,AlreadyFormatted,SilentMode,AlreadyEncrypted,060456-014509-132033-080300-252615-584177-672089-411631 |
```
## <a name="next-steps"></a><span data-ttu-id="16f4e-571">后续步骤</span><span class="sxs-lookup"><span data-stu-id="16f4e-571">Next steps</span></span>

* [<span data-ttu-id="16f4e-572">使用 AzCopy 命令行实用程序传输数据</span><span class="sxs-lookup"><span data-stu-id="16f4e-572">Transfer data with the AzCopy command-line utility</span></span>](/storage/common/storage-use-azcopy)
* [<span data-ttu-id="16f4e-573">Azure 导入/导出 REST API 示例</span><span class="sxs-lookup"><span data-stu-id="16f4e-573">Azure Import Export REST API sample</span></span>](https://github.com/Azure-Samples/storage-dotnet-import-export-job-management/)

<!--Update_Description: wording update-->
